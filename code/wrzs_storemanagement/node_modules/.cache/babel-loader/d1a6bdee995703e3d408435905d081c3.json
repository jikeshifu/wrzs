{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\order-manage\\shgsp-order-manage\\shgsp-order-manage-index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\order-manage\\shgsp-order-manage\\shgsp-order-manage-index.vue","mtime":1686935646977},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\babel.config.js","mtime":1686935646926},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovY29kaW5nL3dyenMvd3J6c19zdG9yZW1hbmFnZW1lbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9jb2Rpbmcvd3J6cy93cnpzX3N0b3JlbWFuYWdlbWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBnZXRTSEdTUE9yZGVyTGlzdCBhcyBfZ2V0U0hHU1BPcmRlckxpc3QsIGNhbmNlbE9yZGVyIGFzIF9jYW5jZWxPcmRlciB9IGZyb20gJ0AvYXBpL29yZGVyLW1hbmFnZS9zaGdzcC1vcmRlci1tYW5hZ2UuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNoZ3NwLW9yZGVyLW1hbmFnZS1pbmRleCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRyYXdlcjogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIG9yZGVyQ2FiaW5ldDogewogICAgICAgICAgICBnb29kc19pbmZvOiB7CiAgICAgICAgICAgICAgY2FiaW5ldDoge30KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOafpeeci+WVhuWTgQogICAgY2hlY2tHb29kczogZnVuY3Rpb24gY2hlY2tHb29kcyhkYXRhKSB7CiAgICAgIHRoaXMuZHJhd2VyLmRhdGEgPSBkYXRhOwogICAgICB0aGlzLmRyYXdlci5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDlj5bmtojorqLljZUKICAgIGNhbmNlbE9yZGVyOiBmdW5jdGlvbiBjYW5jZWxPcmRlcihvcmRlcl9pZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmgqjnoa7lrpropoHlj5bmtojor6XorqLljZXlkJc/JywgJ+a4qemmqOaPkOekuicsIHsKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX2NhbmNlbE9yZGVyKHsKICAgICAgICAgICAgICAgIG9yZGVyX2lkOiBvcmRlcl9pZAogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5bey5Y+W5raIJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5NaXhfdGFibGVEYXRhLmN1cnJlbnRQYWdlID0gMTsKICAgICAgICAgICAgICAgIF90aGlzLmdldFNIR1NQT3JkZXJMaXN0KCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvLyDojrflj5bllK7otKfmn5zllYblk4HorqLljZXliJfooagKICAgIGdldFNIR1NQT3JkZXJMaXN0OiBmdW5jdGlvbiBnZXRTSEdTUE9yZGVyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF9nZXRTSEdTUE9yZGVyTGlzdCh7CiAgICAgICAgICAgICAgICBwYWdlOiBfdGhpczIuTWl4X3RhYmxlRGF0YS5jdXJyZW50UGFnZSwKICAgICAgICAgICAgICAgIGxpbWl0OiBfdGhpczIuTWl4X3RhYmxlRGF0YS5wYWdlU2l6ZQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgIF90aGlzMi5NaXhfdGFibGVEYXRhLmxpc3QgPSBkYXRhLmxpc3Q7CiAgICAgICAgICAgICAgICBfdGhpczIuTWl4X3RhYmxlRGF0YS50b3RhbCA9IGRhdGEuY291bnQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0U0hHU1BPcmRlckxpc3QoKTsKICB9Cn07"},{"version":3,"names":["getSHGSPOrderList","cancelOrder","name","data","drawer","show","orderCabinet","goods_info","cabinet","methods","checkGoods","order_id","_this","$confirm","type","then","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$message","success","Mix_tableData","currentPage","stop","catch","_this2","_callee2","_callee2$","_context2","page","limit","pageSize","list","total","count","mounted"],"sources":["src/views/order-manage/shgsp-order-manage/shgsp-order-manage-index.vue"],"sourcesContent":["<template>\r\n  <div class=\"shgsp-order-manage-index\">\r\n    <el-table border height=\"calc(100vh - 170px)\" :data=\"Mix_tableData.list\">\r\n      <el-table-column label=\"订单ID\" prop=\"order_id\"></el-table-column>\r\n      <el-table-column label=\"订单号\" prop=\"order_sn\"></el-table-column>\r\n      <el-table-column label=\"订单价格(元)\" prop=\"order_price\"></el-table-column>\r\n      <el-table-column label=\"支付方式\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"pay-type\" v-if=\"scope.row.pay_type === 'balance'\"><span class=\"kj kj-qb\"></span>钱包余额</div>\r\n          <div class=\"pay-type\" v-if=\"scope.row.pay_type === 'wechat'\"><span class=\"kj kj-wechat\"></span>微信</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"订单状态\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"primary\" v-if=\"scope.row.order_status === 3\">已完成</el-tag>\r\n          <el-tag type=\"danger\" v-if=\"scope.row.order_status === 4\">已取消</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"售货柜锁状态\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"danger\" v-if=\"scope.row.orderCabinet.lock_status === 0\">异常</el-tag>\r\n          <el-tag type=\"success\" v-if=\"scope.row.orderCabinet.lock_status === 1\">正常</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"商品信息\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" size=\"mini\" @click=\"checkGoods(scope.row)\">查看</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"购买用户\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover\r\n            placement=\"top-end\"\r\n            width=\"400\"\r\n            trigger=\"click\">\r\n            <el-form label-width=\"80px\">\r\n              <el-form-item label=\"昵称\">{{ scope.row.member.nick_name }}</el-form-item>\r\n              <el-form-item label=\"头像\">\r\n                <el-image :src=\"scope.row.member.avatar_url\" fit=\"cover\" style=\"width:100px;height:100px;\" :preview-src-list=\"[scope.row.member.avatar_url]\"></el-image>\r\n              </el-form-item>\r\n              <el-form-item label=\"电话\">{{ scope.row.member.mobile }}</el-form-item>\r\n              <el-form-item label=\"地址\">{{ scope.row.member.province }}</el-form-item>\r\n            </el-form>\r\n            <el-button slot=\"reference\" type=\"text\" size=\"mini\">查看</el-button>\r\n          </el-popover>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" type=\"action\" width=\"250\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" v-if=\"scope.row.order_status === 3\" size=\"mini\" @click=\"cancelOrder(scope.row.order_id)\">取消订单</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <Pagination :tableData=\"Mix_tableData\" @pageChange=\"$pageChange\" :getList=\"getSHGSPOrderList\"></Pagination>\r\n    <el-drawer\r\n      title=\"商品信息\"\r\n      :visible.sync=\"drawer.show\"\r\n      direction=\"ltr\">\r\n      <el-form label-width=\"120upx\" style=\"padding-left:20px;padding-right:20px;\">\r\n        <el-form-item label=\"售货柜编码\">{{ drawer.data.orderCabinet.goods_info.cabinet_number }}</el-form-item>\r\n        <el-form-item label=\"售货柜名称\">{{ drawer.data.orderCabinet.goods_info.cabinet.cabinet_name }}</el-form-item>\r\n        <el-form-item label=\"商品图片\">\r\n          <el-image :src=\"baseUrl + drawer.data.orderCabinet.goods_info.goods_image\" fit=\"cover\" style=\"width:100px;height:100px;\" :preview-src-list=\"[baseUrl + drawer.data.orderCabinet.goods_info.goods_image]\"></el-image>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品名称\">{{ drawer.data.orderCabinet.goods_info.goods_name }}</el-form-item>\r\n      </el-form>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getSHGSPOrderList, cancelOrder } from '@/api/order-manage/shgsp-order-manage.js'\r\n\r\n  export default {\r\n    name: \"shgsp-order-manage-index\",\r\n    data() {\r\n      return {\r\n        drawer: {\r\n          show: false,\r\n          data: {\r\n            orderCabinet: {\r\n              goods_info: {\r\n                cabinet: {}\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      // 查看商品\r\n      checkGoods(data) {\r\n        this.drawer.data = data\r\n        this.drawer.show = true\r\n      },\r\n      // 取消订单\r\n      cancelOrder(order_id) {\r\n        this.$confirm('您确定要取消该订单吗?', '温馨提示', {\r\n          type: 'warning'\r\n        }).then(async () => {\r\n          await cancelOrder({\r\n            order_id\r\n          }).then(() => {\r\n            this.$message.success('已取消')\r\n            this.Mix_tableData.currentPage = 1\r\n            this.getSHGSPOrderList()\r\n          })\r\n        }).catch(() => {})\r\n      },\r\n      // 获取售货柜商品订单列表\r\n      async getSHGSPOrderList() {\r\n        await getSHGSPOrderList({\r\n          page: this.Mix_tableData.currentPage,\r\n          limit: this.Mix_tableData.pageSize\r\n        }).then(data => {\r\n          this.Mix_tableData.list = data.list\r\n          this.Mix_tableData.total = data.count\r\n        })\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getSHGSPOrderList()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .pay-type {\r\n    .kj {\r\n      font-size: 30px;\r\n      vertical-align: -5px;\r\n      margin-right: 5px;\r\n    }\r\n    .kj-qb {\r\n      color: #e6a23c;\r\n    }\r\n    .kj-wechat {\r\n      color: #67c23a;\r\n    }\r\n  }\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,SAAAA,iBAAA,IAAAA,kBAAA,EAAAC,WAAA,IAAAA,YAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;QACAC,IAAA;QACAF,IAAA;UACAG,YAAA;YACAC,UAAA;cACAC,OAAA;YACA;UACA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACA;IACAC,UAAA,WAAAA,WAAAP,IAAA;MACA,KAAAC,MAAA,CAAAD,IAAA,GAAAA,IAAA;MACA,KAAAC,MAAA,CAAAC,IAAA;IACA;IACA;IACAJ,WAAA,WAAAA,YAAAU,QAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,QAAA;QACAC,IAAA;MACA,GAAAC,IAAA,eAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACAvB,YAAA;gBACAU,QAAA,EAAAA;cACA,GAAAI,IAAA;gBACAH,KAAA,CAAAa,QAAA,CAAAC,OAAA;gBACAd,KAAA,CAAAe,aAAA,CAAAC,WAAA;gBACAhB,KAAA,CAAAZ,iBAAA;cACA;YAAA;YAAA;cAAA,OAAAsB,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAV,OAAA;MAAA,CACA,IAAAW,KAAA;IACA;IACA;IACA9B,iBAAA,WAAAA,kBAAA;MAAA,IAAA+B,MAAA;MAAA,OAAAf,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAc,SAAA;QAAA,OAAAf,mBAAA,GAAAG,IAAA,UAAAa,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAX,IAAA,GAAAW,SAAA,CAAAV,IAAA;YAAA;cAAAU,SAAA,CAAAV,IAAA;cAAA,OACAxB,kBAAA;gBACAmC,IAAA,EAAAJ,MAAA,CAAAJ,aAAA,CAAAC,WAAA;gBACAQ,KAAA,EAAAL,MAAA,CAAAJ,aAAA,CAAAU;cACA,GAAAtB,IAAA,WAAAZ,IAAA;gBACA4B,MAAA,CAAAJ,aAAA,CAAAW,IAAA,GAAAnC,IAAA,CAAAmC,IAAA;gBACAP,MAAA,CAAAJ,aAAA,CAAAY,KAAA,GAAApC,IAAA,CAAAqC,KAAA;cACA;YAAA;YAAA;cAAA,OAAAN,SAAA,CAAAL,IAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IACA;EACA;EACAS,OAAA,WAAAA,QAAA;IACA,KAAAzC,iBAAA;EACA;AACA"}]}