{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\device-manage\\device-manage-edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\device-manage\\device-manage-edit.vue","mtime":1686935646982},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\babel.config.js","mtime":1686935646926},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovY29kaW5nL3dyenMvd3J6c19zdG9yZW1hbmFnZW1lbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9jb2Rpbmcvd3J6cy93cnpzX3N0b3JlbWFuYWdlbWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2NvZGluZy93cnpzL3dyenNfc3RvcmVtYW5hZ2VtZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGVkaXREZXZpY2UgfSBmcm9tICJAL2FwaS9zdG9yZS1tYW5hZ2UvZGV2aWNlLW1hbmFnZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZGV2aWNlLW1hbmFnZS1lZGl0IiwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgc3RvcmVNYW5hZ2U6IGZ1bmN0aW9uIHN0b3JlTWFuYWdlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZVsnc3RvcmUtbWFuYWdlL3N0b3JlLW1hbmFnZSddLnN0b3JlTWFuYWdlOwogICAgfSwKICAgIHJvb21NYW5hZ2U6IGZ1bmN0aW9uIHJvb21NYW5hZ2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlWydzdG9yZS1tYW5hZ2Uvcm9vbS1tYW5hZ2UnXS5yb29tTWFuYWdlOwogICAgfSwKICAgIGRldmljZU1hbmFnZTogZnVuY3Rpb24gZGV2aWNlTWFuYWdlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZVsnc3RvcmUtbWFuYWdlL2RldmljZS1tYW5hZ2UnXS5kZXZpY2VNYW5hZ2U7CiAgICB9CiAgfSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7fSwKICAgICAgZm9ybVJ1bGVzOiB7CiAgICAgICAgdm9sdW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6K+t6Z+z6Z+z6YePJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDov5Tlm57kuIrkuIDpobUKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NvbXBvbmVudHNDaGFuZ2UnLCAnaW5kZXgnKTsKICAgIH0sCiAgICAvLyDmj5DkuqQKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdERldmljZShfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgcm9vbV9pZDogX3RoaXMucm9vbU1hbmFnZS5yb29tX2lkCiAgICAgICAgICAgICAgICB9LCBfdGhpcy5mb3JtKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwogICAgICAgICAgICAgICAgICBfdGhpcy5iYWNrKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mb3JtID0gdGhpcy5kZXZpY2VNYW5hZ2U7CiAgfQp9Ow=="},{"version":3,"names":["mapState","editDevice","name","computed","_objectSpread","storeManage","state","roomManage","deviceManage","data","form","formRules","volume","required","message","methods","back","$emit","submit","_this","$refs","validate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","valid","wrap","_callee$","_context","prev","next","room_id","then","$message","success","abrupt","stop","_x","apply","arguments","mounted"],"sources":["src/views/store-manage/device-manage/device-manage-edit.vue"],"sourcesContent":["<template>\r\n  <div class=\"device-manage-edit\">\r\n    <el-button @click=\"back\" icon=\"el-icon-back\">返回设备列表</el-button>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"8\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"formRules\" label-width=\"100px\">\r\n          <el-form-item label=\"当前位置\" prop=\"device_name\">\r\n            <el-tag type=\"primary\">{{ `${storeManage.store_name}，${roomManage.room_name}` }}</el-tag>\r\n          </el-form-item>\r\n          <el-form-item label=\"语音文本\">\r\n            <el-input type=\"textarea\" placeholder=\"设备语音文本\" maxlength=\"30\" rows=\"4\" show-word-limit v-model=\"form.voice\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"语音音量\" prop=\"volume\">\r\n            <el-input-number v-model=\"form.volume\" :min=\"1\" :max=\"7\"></el-input-number>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button @click=\"back\">返回</el-button>\r\n            <el-button type=\"primary\" @click=\"submit\">立即修改</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\"\r\nimport {editDevice} from \"@/api/store-manage/device-manage\"\r\n\r\nexport default {\r\n  name: \"device-manage-edit\",\r\n  computed: {\r\n    ...mapState({\r\n      storeManage: state => state['store-manage/store-manage'].storeManage,\r\n      roomManage: state => state['store-manage/room-manage'].roomManage,\r\n      deviceManage: state => state['store-manage/device-manage'].deviceManage\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      form: {},\r\n      formRules: {\r\n        volume: [{\r\n          required: true,\r\n          message: '请输入语音音量'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 返回上一页\r\n    back() {\r\n      this.$emit('componentsChange', 'index')\r\n    },\r\n    // 提交\r\n    submit() {\r\n      this.$refs['form'].validate(async valid => {\r\n        if (valid) {\r\n          await editDevice({\r\n            room_id: this.roomManage.room_id,\r\n            ...this.form\r\n          }).then(() => {\r\n            this.$message.success('修改成功')\r\n            this.back()\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.form = this.deviceManage\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAAAA,QAAA;AACA,SAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,QAAA,EAAAC,aAAA,KACAJ,QAAA;IACAK,WAAA,WAAAA,YAAAC,KAAA;MAAA,OAAAA,KAAA,8BAAAD,WAAA;IAAA;IACAE,UAAA,WAAAA,WAAAD,KAAA;MAAA,OAAAA,KAAA,6BAAAC,UAAA;IAAA;IACAC,YAAA,WAAAA,aAAAF,KAAA;MAAA,OAAAA,KAAA,+BAAAE,YAAA;IAAA;EACA,GACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;MACAC,SAAA;QACAC,MAAA;UACAC,QAAA;UACAC,OAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACA;IACAC,IAAA,WAAAA,KAAA;MACA,KAAAC,KAAA;IACA;IACA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,KAAA,SAAAC,QAAA;QAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAAC,KAAA;UAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAA,KACAL,KAAA;kBAAAG,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAAAF,QAAA,CAAAE,IAAA;gBAAA,OACA/B,UAAA,CAAAG,aAAA;kBACA6B,OAAA,EAAAd,KAAA,CAAAZ,UAAA,CAAA0B;gBAAA,GACAd,KAAA,CAAAT,IAAA,CACA,EAAAwB,IAAA;kBACAf,KAAA,CAAAgB,QAAA,CAAAC,OAAA;kBACAjB,KAAA,CAAAH,IAAA;gBACA;cAAA;gBAAAc,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAA,OAAAF,QAAA,CAAAO,MAAA,WAEA;cAAA;cAAA;gBAAA,OAAAP,QAAA,CAAAQ,IAAA;YAAA;UAAA,GAAAZ,OAAA;QAAA,CAEA;QAAA,iBAAAa,EAAA;UAAA,OAAAjB,IAAA,CAAAkB,KAAA,OAAAC,SAAA;QAAA;MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAhC,IAAA,QAAAF,YAAA;EACA;AACA"}]}