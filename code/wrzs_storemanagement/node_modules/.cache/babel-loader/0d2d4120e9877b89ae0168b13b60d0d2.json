{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\device-manage\\device-manage-index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\device-manage\\device-manage-index.vue","mtime":1689090525755},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\babel.config.js","mtime":1686935646926},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovY29kaW5nL3dyenMvd3J6c19zdG9yZW1hbmFnZW1lbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9jb2Rpbmcvd3J6cy93cnpzX3N0b3JlbWFuYWdlbWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2NvZGluZy93cnpzL3dyenNfc3RvcmVtYW5hZ2VtZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXREZXZpY2VMaXN0IGFzIF9nZXREZXZpY2VMaXN0LCBkZWxEZXZpY2UgYXMgX2RlbERldmljZSwgZWRpdERldmljZUV3bSB9IGZyb20gIkAvYXBpL3N0b3JlLW1hbmFnZS9kZXZpY2UtbWFuYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJkZXZpY2UtbWFuYWdlLWluZGV4IiwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgc3RvcmVNYW5hZ2U6IGZ1bmN0aW9uIHN0b3JlTWFuYWdlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZVsnc3RvcmUtbWFuYWdlL3N0b3JlLW1hbmFnZSddLnN0b3JlTWFuYWdlOwogICAgfSwKICAgIHJvb21NYW5hZ2U6IGZ1bmN0aW9uIHJvb21NYW5hZ2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlWydzdG9yZS1tYW5hZ2Uvcm9vbS1tYW5hZ2UnXS5yb29tTWFuYWdlOwogICAgfQogIH0pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiB7CiAgICAgICAgcHVibGljOiAnJywKICAgICAgICBkZXZpY2VfdHlwZTogJycKICAgICAgfSwKICAgICAgLy8g5LqM57u056CB5by556qXCiAgICAgIGV3bURpYWxvZzogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIGRhdGE6IHt9LAogICAgICAgIHJ1bGVzOiB7CiAgICAgICAgICBxcl90aW1lOiBbewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeabtOaWsOaXtumXtCcKICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6Zeo5Y2h566h55CGCiAgICBkY2FyZE1hbmFnZTogZnVuY3Rpb24gZGNhcmRNYW5hZ2UoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3N0b3JlLW1hbmFnZS9kY2FyZC1tYW5hZ2Uvc2V0RGNhcmRNYW5hZ2VEYXRhJywgZGF0YSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnYmFjaycsICdkY2FyZCcpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5o+Q5Lqk5LqM57u056CB6K6+572uCiAgICBzdWJtaXRFd21TZXQ6IGZ1bmN0aW9uIHN1Ym1pdEV3bVNldCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbJ2V3bURpYWxvZyddLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMih2YWxpZCkgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBlZGl0RGV2aWNlRXdtKF90aGlzMi5ld21EaWFsb2cuZGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmV3bURpYWxvZy5zaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5NaXhfdGFibGVEYXRhLmN1cnJlbnRQYWdlID0gMTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmdldERldmljZUxpc3QoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy8g57yW6L6R6K6+5aSH5LqM57u056CBCiAgICBlZGl0RGV2aWNlRXdtOiBmdW5jdGlvbiBlZGl0RGV2aWNlRXdtKGUpIHsKICAgICAgdGhpcy5ld21EaWFsb2cuZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpOwogICAgICB0aGlzLmV3bURpYWxvZy5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnvJbovpHorr7lpIfkv6Hmga8KICAgIGVkaXREZXZpY2U6IGZ1bmN0aW9uIGVkaXREZXZpY2UoZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgnc3RvcmUtbWFuYWdlL2RldmljZS1tYW5hZ2Uvc2V0RGV2aWNlTWFuYWdlRGF0YScsIGRhdGEpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXMzLiRlbWl0KCdjb21wb25lbnRzQ2hhbmdlJywgJ2VkaXQnKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6L+U5Zue5LiK5LiA6aG1CiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLiRlbWl0KCdiYWNrJywgJ3Jvb20nKTsKICAgIH0sCiAgICAvLyDojrflj5borr7lpIfliJfooagKICAgIGdldERldmljZUxpc3Q6IGZ1bmN0aW9uIGdldERldmljZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXM0LiRyZWZzLnRhYmxlLmNsZWFyRmlsdGVyKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfZ2V0RGV2aWNlTGlzdCh7CiAgICAgICAgICAgICAgICBwYWdlOiBfdGhpczQuTWl4X3RhYmxlRGF0YS5jdXJyZW50UGFnZSwKICAgICAgICAgICAgICAgIGxpbWl0OiBfdGhpczQuTWl4X3RhYmxlRGF0YS5wYWdlU2l6ZSwKICAgICAgICAgICAgICAgIHB1YmxpYzogX3RoaXM0LnRhYmxlRGF0YS5wdWJsaWMsCiAgICAgICAgICAgICAgICByb29tX2lkOiBfdGhpczQucm9vbU1hbmFnZS5yb29tX2lkLAogICAgICAgICAgICAgICAgZGV2aWNlX3R5cGU6IF90aGlzNC50YWJsZURhdGEuZGV2aWNlX3R5cGUKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICBfdGhpczQuTWl4X3RhYmxlRGF0YS5saXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgICAgICAgX3RoaXM0Lk1peF90YWJsZURhdGEudG90YWwgPSBkYXRhLmNvdW50OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDnrZvpgInlnKjnur8v56a757q/CiAgICBmaWx0ZXJPbmxpbmU6IGZ1bmN0aW9uIGZpbHRlck9ubGluZSh2YWx1ZSwgcm93KSB7CiAgICAgIHJldHVybiByb3cub25fbGluZSA9PT0gdmFsdWU7CiAgICB9LAogICAgLy8g5re75Yqg6K6+5aSHCiAgICBhZGREZXZpY2U6IGZ1bmN0aW9uIGFkZERldmljZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY29tcG9uZW50c0NoYW5nZScsICdhZGQnKTsKICAgIH0sCiAgICAvLyDliKDpmaTorr7lpIcKICAgIGRlbERldmljZTogZnVuY3Rpb24gZGVsRGV2aWNlKGRldmljZV9pZCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgn5oKo56Gu5a6a6KaB5Yig6Zmk6K+l6K6+5aSH5ZCXPycsICfmuKnppqjmj5DnpLonLCB7CiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF9kZWxEZXZpY2UoewogICAgICAgICAgICAgICAgZGV2aWNlX2lkOiBkZXZpY2VfaWQKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKICAgICAgICAgICAgICAgIF90aGlzNS5NaXhfdGFibGVEYXRhLmN1cnJlbnRQYWdlID0gMTsKICAgICAgICAgICAgICAgIF90aGlzNS5nZXREZXZpY2VMaXN0KCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIC8vIOafpeivogogICAgc2VhcmNoU3VibWl0OiBmdW5jdGlvbiBzZWFyY2hTdWJtaXQoKSB7CiAgICAgIHRoaXMuTWl4X3RhYmxlRGF0YS5jdXJyZW50UGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0RGV2aWNlTGlzdCgpOwogICAgfSwKICAgIC8vIOmHjee9ruaVsOaNrgogICAgcmVzZXREYXRhOiBmdW5jdGlvbiByZXNldERhdGEoKSB7CiAgICAgIHRoaXMudGFibGVEYXRhLnB1YmxpYyA9ICcnOwogICAgICB0aGlzLnRhYmxlRGF0YS5kZXZpY2VfdHlwZSA9ICcnOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGV2aWNlTGlzdCgpOwogIH0KfTs="},{"version":3,"names":["mapState","getDeviceList","delDevice","editDeviceEwm","name","computed","_objectSpread","storeManage","state","roomManage","data","tableData","public","device_type","ewmDialog","show","rules","qr_time","required","message","methods","dcardManage","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","$emit","stop","submitEwmSet","_this2","$refs","validate","_ref","_callee2","valid","_callee2$","_context2","then","$message","success","Mix_tableData","currentPage","abrupt","_x","apply","arguments","e","JSON","parse","stringify","editDevice","_this3","_callee3","_callee3$","_context3","back","_this4","_callee4","_callee4$","_context4","table","clearFilter","page","limit","pageSize","room_id","list","total","count","filterOnline","value","row","on_line","addDevice","device_id","_this5","$confirm","type","_callee5","_callee5$","_context5","catch","searchSubmit","resetData","mounted"],"sources":["src/views/store-manage/device-manage/device-manage-index.vue"],"sourcesContent":["<template>\r\n  <div class=\"device-manage-index\">\r\n    <el-button icon=\"el-icon-back\" @click=\"back\">返回房间列表</el-button>\r\n    <el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"addDevice\">添加设备</el-button>\r\n    <el-button :disabled=\"!Mix_tableData.selectionIds.length\" icon=\"el-icon-delete\" type=\"danger\"\r\n      @click=\"delDevice(Mix_tableData.selectionIds)\">批量删除\r\n    </el-button>\r\n    <el-input v-model=\"tableData.public\" clearable maxlength=\"30\" placeholder=\"设备名称/序列号/网关SN\" style=\"width:250px\">\r\n    </el-input>\r\n    <el-select v-model=\"tableData.device_type\" clearable placeholder=\"请选择设备类型\">\r\n      <el-option label=\"门锁\" value=\"1\"></el-option>\r\n      <el-option label=\"大门\" value=\"2\"></el-option>\r\n      <el-option label=\"空开\" value=\"3\"></el-option>\r\n    </el-select>\r\n    <el-button icon=\"el-icon-search\" type=\"primary\" @click=\"searchSubmit\">查询</el-button>\r\n    <el-button icon=\"el-icon-refresh-right\" type=\"primary\" @click=\"resetData\">重置</el-button>\r\n    <el-tag type=\"primary\">{{ `当前位置：${storeManage.store_name}，${roomManage.room_name}` }}</el-tag>\r\n    <el-table ref=\"table\" :data=\"Mix_tableData.list\" border class=\"mt15\" height=\"calc(100vh - 225px)\"\r\n      @selection-change=\"$selectionChange($event, 'device_id')\">\r\n      <el-table-column type=\"selection\" width=\"50\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"ID\" prop=\"device_id\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"设备名称\" prop=\"device_name\"></el-table-column>\r\n      <el-table-column label=\"设备类型\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"primary\">{{ scope.row.device_type | numTransZh_deviceType }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"设备序列号\" prop=\"device_sn\"></el-table-column>\r\n      <el-table-column label=\"二维码\" prop=\"qr_img\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image :preview-src-list=\"[baseUrl + scope.row.qr_img]\" style=\"width:100px;height:100px\"\r\n            :src=\"baseUrl + scope.row.qr_img\" fit=\"cover\"></el-image>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"网关SN\" prop=\"gw_sn\"></el-table-column>\r\n      <el-table-column :filter-method=\"filterOnline\" :filters=\"[{ text: '在线', value: 1 }, { text: '离线', value: 0 }]\"\r\n        filter-placement=\"bottom-end\" label=\"状态\" prop=\"on_line\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag v-if=\"scope.row.on_line === 1\" type=\"primary\">在线</el-tag>\r\n          <el-tag v-if=\"scope.row.on_line === 0\" type=\"danger\">离线</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"语音文本\" prop=\"voice\"></el-table-column>\r\n      <el-table-column label=\"语音音量\" prop=\"volume\"></el-table-column>\r\n      <el-table-column label=\"设备二维码\">\r\n        <el-table-column label=\"自动更新\" prop=\"qr_status\">\r\n          <template slot-scope=\"scope\">\r\n            <el-row align=\"middle\" justify=\"space-between\" type=\"flex\">\r\n              <el-col>\r\n                <el-switch :active-value=\"1\" :inactive-value=\"0\" :value=\"scope.row.qr_status\"></el-switch>\r\n              </el-col>\r\n              <el-col>\r\n                <el-button icon=\"el-icon-edit\" size=\"mini\" type=\"text\" @click=\"editDeviceEwm(scope.row)\">编辑</el-button>\r\n              </el-col>\r\n            </el-row>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"开始更新时间\" prop=\"qr_time\"></el-table-column>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作\" type=\"action\">\r\n        <template slot-scope=\"scope\">\r\n          <el-dropdown>\r\n            <span class=\"el-dropdown-link\">\r\n              操作<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n            </span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item v-if=\"scope.row.device_type !== 4\">\r\n                <el-button icon=\"el-icon-bank-card\" size=\"mini\" type=\"primary\" @click=\"dcardManage(scope.row)\">门卡管理\r\n                </el-button>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <el-button icon=\"el-icon-edit\" size=\"mini\" type=\"warning\" @click=\"editDevice(scope.row)\">编辑\r\n                </el-button>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <el-button icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" @click=\"delDevice([scope.row.device_id])\">删除\r\n                </el-button>\r\n              </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <Pagination :tableData=\"Mix_tableData\" @pageChange=\"$pageChange\" :getList=\"getDeviceList\"></Pagination>\r\n    <el-dialog :visible.sync=\"ewmDialog.show\" title=\"设备二维码设置\" width=\"30%\">\r\n      <el-form ref=\"ewmDialog\" :model=\"ewmDialog.data\" :rules=\"ewmDialog.rules\" label-position=\"left\"\r\n        label-width=\"80px\">\r\n        <el-form-item label=\"设备名称\">{{ ewmDialog.data.device_name }}</el-form-item>\r\n        <el-form-item label=\"序列号\">{{ ewmDialog.data.device_sn }}</el-form-item>\r\n        <el-form-item label=\"设备类型\">\r\n          <el-tag type=\"primary\">{{ ewmDialog.data.device_type | numTransZh_deviceType }}</el-tag>\r\n        </el-form-item>\r\n        <el-form-item label=\"自动更新\">\r\n          <el-switch v-model=\"ewmDialog.data.qr_status\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"ewmDialog.data.qr_status\" label=\"更新时间\" prop=\"qr_time\">\r\n          <el-time-select v-model=\"ewmDialog.data.qr_time\" :picker-options=\"{\r\n    start: '00:00',\r\n    step: '01:00',\r\n    end: '24:00'\r\n  }\" placeholder=\"选择更新时间\">\r\n          </el-time-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\">\r\n        <el-button @click=\"ewmDialog.show = false\">取消</el-button>\r\n        <el-button type=\"primary\"\r\n          @click=\"submitEwmSet\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    mapState\r\n  } from \"vuex\"\r\n  import {\r\n    getDeviceList,\r\n    delDevice,\r\n    editDeviceEwm\r\n  } from \"@/api/store-manage/device-manage\"\r\n\r\n  export default {\r\n    name: \"device-manage-index\",\r\n    computed: {\r\n      ...mapState({\r\n        storeManage: state => state['store-manage/store-manage'].storeManage,\r\n        roomManage: state => state['store-manage/room-manage'].roomManage\r\n      })\r\n    },\r\n    data() {\r\n      return {\r\n        tableData: {\r\n          public: '',\r\n          device_type: ''\r\n        },\r\n        // 二维码弹窗\r\n        ewmDialog: {\r\n          show: false,\r\n          data: {},\r\n          rules: {\r\n            qr_time: [{\r\n              required: true,\r\n              message: '请选择更新时间'\r\n            }]\r\n          }\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      // 门卡管理\r\n      async dcardManage(data) {\r\n        await this.$store.dispatch('store-manage/dcard-manage/setDcardManageData', data)\r\n        this.$emit('back', 'dcard')\r\n      },\r\n      // 提交二维码设置\r\n      submitEwmSet() {\r\n        this.$refs['ewmDialog'].validate(async valid => {\r\n          if (valid) {\r\n            await editDeviceEwm(this.ewmDialog.data).then(() => {\r\n              this.$message.success('修改成功')\r\n              this.ewmDialog.show = false\r\n              this.Mix_tableData.currentPage = 1\r\n              this.getDeviceList()\r\n            })\r\n          } else {\r\n            return false\r\n          }\r\n        })\r\n      },\r\n      // 编辑设备二维码\r\n      editDeviceEwm(e) {\r\n        this.ewmDialog.data = JSON.parse(JSON.stringify(e))\r\n        this.ewmDialog.show = true\r\n      },\r\n      // 编辑设备信息\r\n      async editDevice(data) {\r\n        await this.$store.dispatch('store-manage/device-manage/setDeviceManageData', data)\r\n        this.$emit('componentsChange', 'edit')\r\n      },\r\n      // 返回上一页\r\n      back() {\r\n        this.$emit('back', 'room')\r\n      },\r\n      // 获取设备列表\r\n      async getDeviceList() {\r\n        this.$refs.table.clearFilter()\r\n        await getDeviceList({\r\n          page: this.Mix_tableData.currentPage,\r\n          limit: this.Mix_tableData.pageSize,\r\n          public: this.tableData.public,\r\n          room_id: this.roomManage.room_id,\r\n          device_type: this.tableData.device_type\r\n        }).then(data => {\r\n          this.Mix_tableData.list = data.list\r\n          this.Mix_tableData.total = data.count\r\n        })\r\n      },\r\n      // 筛选在线/离线\r\n      filterOnline(value, row) {\r\n        return row.on_line === value\r\n      },\r\n      // 添加设备\r\n      addDevice() {\r\n        this.$emit('componentsChange', 'add')\r\n      },\r\n      // 删除设备\r\n      delDevice(device_id) {\r\n        this.$confirm('您确定要删除该设备吗?', '温馨提示', {\r\n          type: 'warning'\r\n        }).then(async () => {\r\n          await delDevice({\r\n            device_id\r\n          }).then(() => {\r\n            this.$message.success('删除成功')\r\n            this.Mix_tableData.currentPage = 1\r\n            this.getDeviceList()\r\n          })\r\n        }).catch(() => {})\r\n      },\r\n      // 查询\r\n      searchSubmit() {\r\n        this.Mix_tableData.currentPage = 1\r\n        this.getDeviceList()\r\n      },\r\n      // 重置数据\r\n      resetData() {\r\n        this.tableData.public = ''\r\n        this.tableData.device_type = ''\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getDeviceList()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .el-dropdown-link {\r\n    cursor: pointer;\r\n    color: #409EFF;\r\n  }\r\n</style>\r\n"],"mappings":"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"}]}