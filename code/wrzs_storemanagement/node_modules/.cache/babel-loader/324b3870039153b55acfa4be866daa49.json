{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\layout\\components\\TagsView\\ScrollPane.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\layout\\components\\TagsView\\ScrollPane.vue","mtime":1686935646967},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\babel.config.js","mtime":1686935646926},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCgp2YXIgdGFnQW5kVGFnU3BhY2luZyA9IDQ7IC8vIHRhZ0FuZFRhZ1NwYWNpbmcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2Nyb2xsUGFuZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxlZnQ6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2Nyb2xsV3JhcHBlcjogZnVuY3Rpb24gc2Nyb2xsV3JhcHBlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnMuc2Nyb2xsQ29udGFpbmVyLiRyZWZzLndyYXA7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zY3JvbGxXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuZW1pdFNjcm9sbCwgdHJ1ZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zY3JvbGxXcmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuZW1pdFNjcm9sbCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTY3JvbGw6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbChlKSB7CiAgICAgIHZhciBldmVudERlbHRhID0gZS53aGVlbERlbHRhIHx8IC1lLmRlbHRhWSAqIDQwOwogICAgICB2YXIgJHNjcm9sbFdyYXBwZXIgPSB0aGlzLnNjcm9sbFdyYXBwZXI7CiAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ICsgZXZlbnREZWx0YSAvIDQ7CiAgICB9LAogICAgZW1pdFNjcm9sbDogZnVuY3Rpb24gZW1pdFNjcm9sbCgpIHsKICAgICAgdGhpcy4kZW1pdCgnc2Nyb2xsJyk7CiAgICB9LAogICAgbW92ZVRvVGFyZ2V0OiBmdW5jdGlvbiBtb3ZlVG9UYXJnZXQoY3VycmVudFRhZykgewogICAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJHJlZnMuc2Nyb2xsQ29udGFpbmVyLiRlbDsKICAgICAgdmFyICRjb250YWluZXJXaWR0aCA9ICRjb250YWluZXIub2Zmc2V0V2lkdGg7CiAgICAgIHZhciAkc2Nyb2xsV3JhcHBlciA9IHRoaXMuc2Nyb2xsV3JhcHBlcjsKICAgICAgdmFyIHRhZ0xpc3QgPSB0aGlzLiRwYXJlbnQuJHJlZnMudGFnOwogICAgICB2YXIgZmlyc3RUYWcgPSBudWxsOwogICAgICB2YXIgbGFzdFRhZyA9IG51bGw7CgogICAgICAvLyBmaW5kIGZpcnN0IHRhZyBhbmQgbGFzdCB0YWcKICAgICAgaWYgKHRhZ0xpc3QubGVuZ3RoID4gMCkgewogICAgICAgIGZpcnN0VGFnID0gdGFnTGlzdFswXTsKICAgICAgICBsYXN0VGFnID0gdGFnTGlzdFt0YWdMaXN0Lmxlbmd0aCAtIDFdOwogICAgICB9CiAgICAgIGlmIChmaXJzdFRhZyA9PT0gY3VycmVudFRhZykgewogICAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSAwOwogICAgICB9IGVsc2UgaWYgKGxhc3RUYWcgPT09IGN1cnJlbnRUYWcpIHsKICAgICAgICAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ID0gJHNjcm9sbFdyYXBwZXIuc2Nyb2xsV2lkdGggLSAkY29udGFpbmVyV2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZmluZCBwcmVUYWcgYW5kIG5leHRUYWcKICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gdGFnTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtID09PSBjdXJyZW50VGFnOwogICAgICAgIH0pOwogICAgICAgIHZhciBwcmV2VGFnID0gdGFnTGlzdFtjdXJyZW50SW5kZXggLSAxXTsKICAgICAgICB2YXIgbmV4dFRhZyA9IHRhZ0xpc3RbY3VycmVudEluZGV4ICsgMV07CgogICAgICAgIC8vIHRoZSB0YWcncyBvZmZzZXRMZWZ0IGFmdGVyIG9mIG5leHRUYWcKICAgICAgICB2YXIgYWZ0ZXJOZXh0VGFnT2Zmc2V0TGVmdCA9IG5leHRUYWcuJGVsLm9mZnNldExlZnQgKyBuZXh0VGFnLiRlbC5vZmZzZXRXaWR0aCArIHRhZ0FuZFRhZ1NwYWNpbmc7CgogICAgICAgIC8vIHRoZSB0YWcncyBvZmZzZXRMZWZ0IGJlZm9yZSBvZiBwcmV2VGFnCiAgICAgICAgdmFyIGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0ID0gcHJldlRhZy4kZWwub2Zmc2V0TGVmdCAtIHRhZ0FuZFRhZ1NwYWNpbmc7CiAgICAgICAgaWYgKGFmdGVyTmV4dFRhZ09mZnNldExlZnQgPiAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ICsgJGNvbnRhaW5lcldpZHRoKSB7CiAgICAgICAgICAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ID0gYWZ0ZXJOZXh0VGFnT2Zmc2V0TGVmdCAtICRjb250YWluZXJXaWR0aDsKICAgICAgICB9IGVsc2UgaWYgKGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0IDwgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCkgewogICAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["tagAndTagSpacing","name","data","left","computed","scrollWrapper","$refs","scrollContainer","wrap","mounted","addEventListener","emitScroll","beforeDestroy","removeEventListener","methods","handleScroll","e","eventDelta","wheelDelta","deltaY","$scrollWrapper","scrollLeft","$emit","moveToTarget","currentTag","$container","$el","$containerWidth","offsetWidth","tagList","$parent","tag","firstTag","lastTag","length","scrollWidth","currentIndex","findIndex","item","prevTag","nextTag","afterNextTagOffsetLeft","offsetLeft","beforePrevTagOffsetLeft"],"sources":["src/layout/components/TagsView/ScrollPane.vue"],"sourcesContent":["<template>\r\n  <el-scrollbar ref=\"scrollContainer\" :vertical=\"false\" class=\"scroll-container\" @wheel.native.prevent=\"handleScroll\">\r\n    <slot />\r\n  </el-scrollbar>\r\n</template>\r\n\r\n<script>\r\nconst tagAndTagSpacing = 4 // tagAndTagSpacing\r\n\r\nexport default {\r\n  name: 'ScrollPane',\r\n  data() {\r\n    return {\r\n      left: 0\r\n    }\r\n  },\r\n  computed: {\r\n    scrollWrapper() {\r\n      return this.$refs.scrollContainer.$refs.wrap\r\n    }\r\n  },\r\n  mounted() {\r\n    this.scrollWrapper.addEventListener('scroll', this.emitScroll, true)\r\n  },\r\n  beforeDestroy() {\r\n    this.scrollWrapper.removeEventListener('scroll', this.emitScroll)\r\n  },\r\n  methods: {\r\n    handleScroll(e) {\r\n      const eventDelta = e.wheelDelta || -e.deltaY * 40\r\n      const $scrollWrapper = this.scrollWrapper\r\n      $scrollWrapper.scrollLeft = $scrollWrapper.scrollLeft + eventDelta / 4\r\n    },\r\n    emitScroll() {\r\n      this.$emit('scroll')\r\n    },\r\n    moveToTarget(currentTag) {\r\n      const $container = this.$refs.scrollContainer.$el\r\n      const $containerWidth = $container.offsetWidth\r\n      const $scrollWrapper = this.scrollWrapper\r\n      const tagList = this.$parent.$refs.tag\r\n\r\n      let firstTag = null\r\n      let lastTag = null\r\n\r\n      // find first tag and last tag\r\n      if (tagList.length > 0) {\r\n        firstTag = tagList[0]\r\n        lastTag = tagList[tagList.length - 1]\r\n      }\r\n\r\n      if (firstTag === currentTag) {\r\n        $scrollWrapper.scrollLeft = 0\r\n      } else if (lastTag === currentTag) {\r\n        $scrollWrapper.scrollLeft = $scrollWrapper.scrollWidth - $containerWidth\r\n      } else {\r\n        // find preTag and nextTag\r\n        const currentIndex = tagList.findIndex(item => item === currentTag)\r\n        const prevTag = tagList[currentIndex - 1]\r\n        const nextTag = tagList[currentIndex + 1]\r\n\r\n        // the tag's offsetLeft after of nextTag\r\n        const afterNextTagOffsetLeft = nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagAndTagSpacing\r\n\r\n        // the tag's offsetLeft before of prevTag\r\n        const beforePrevTagOffsetLeft = prevTag.$el.offsetLeft - tagAndTagSpacing\r\n\r\n        if (afterNextTagOffsetLeft > $scrollWrapper.scrollLeft + $containerWidth) {\r\n          $scrollWrapper.scrollLeft = afterNextTagOffsetLeft - $containerWidth\r\n        } else if (beforePrevTagOffsetLeft < $scrollWrapper.scrollLeft) {\r\n          $scrollWrapper.scrollLeft = beforePrevTagOffsetLeft\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-container {\r\n  white-space: nowrap;\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  ::v-deep {\r\n    .el-scrollbar__bar {\r\n      bottom: 0px;\r\n    }\r\n    .el-scrollbar__wrap {\r\n      height: 49px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;AAOA,IAAAA,gBAAA;;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;IACA;EACA;EACAC,QAAA;IACAC,aAAA,WAAAA,cAAA;MACA,YAAAC,KAAA,CAAAC,eAAA,CAAAD,KAAA,CAAAE,IAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAJ,aAAA,CAAAK,gBAAA,gBAAAC,UAAA;EACA;EACAC,aAAA,WAAAA,cAAA;IACA,KAAAP,aAAA,CAAAQ,mBAAA,gBAAAF,UAAA;EACA;EACAG,OAAA;IACAC,YAAA,WAAAA,aAAAC,CAAA;MACA,IAAAC,UAAA,GAAAD,CAAA,CAAAE,UAAA,KAAAF,CAAA,CAAAG,MAAA;MACA,IAAAC,cAAA,QAAAf,aAAA;MACAe,cAAA,CAAAC,UAAA,GAAAD,cAAA,CAAAC,UAAA,GAAAJ,UAAA;IACA;IACAN,UAAA,WAAAA,WAAA;MACA,KAAAW,KAAA;IACA;IACAC,YAAA,WAAAA,aAAAC,UAAA;MACA,IAAAC,UAAA,QAAAnB,KAAA,CAAAC,eAAA,CAAAmB,GAAA;MACA,IAAAC,eAAA,GAAAF,UAAA,CAAAG,WAAA;MACA,IAAAR,cAAA,QAAAf,aAAA;MACA,IAAAwB,OAAA,QAAAC,OAAA,CAAAxB,KAAA,CAAAyB,GAAA;MAEA,IAAAC,QAAA;MACA,IAAAC,OAAA;;MAEA;MACA,IAAAJ,OAAA,CAAAK,MAAA;QACAF,QAAA,GAAAH,OAAA;QACAI,OAAA,GAAAJ,OAAA,CAAAA,OAAA,CAAAK,MAAA;MACA;MAEA,IAAAF,QAAA,KAAAR,UAAA;QACAJ,cAAA,CAAAC,UAAA;MACA,WAAAY,OAAA,KAAAT,UAAA;QACAJ,cAAA,CAAAC,UAAA,GAAAD,cAAA,CAAAe,WAAA,GAAAR,eAAA;MACA;QACA;QACA,IAAAS,YAAA,GAAAP,OAAA,CAAAQ,SAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA,KAAAd,UAAA;QAAA;QACA,IAAAe,OAAA,GAAAV,OAAA,CAAAO,YAAA;QACA,IAAAI,OAAA,GAAAX,OAAA,CAAAO,YAAA;;QAEA;QACA,IAAAK,sBAAA,GAAAD,OAAA,CAAAd,GAAA,CAAAgB,UAAA,GAAAF,OAAA,CAAAd,GAAA,CAAAE,WAAA,GAAA5B,gBAAA;;QAEA;QACA,IAAA2C,uBAAA,GAAAJ,OAAA,CAAAb,GAAA,CAAAgB,UAAA,GAAA1C,gBAAA;QAEA,IAAAyC,sBAAA,GAAArB,cAAA,CAAAC,UAAA,GAAAM,eAAA;UACAP,cAAA,CAAAC,UAAA,GAAAoB,sBAAA,GAAAd,eAAA;QACA,WAAAgB,uBAAA,GAAAvB,cAAA,CAAAC,UAAA;UACAD,cAAA,CAAAC,UAAA,GAAAsB,uBAAA;QACA;MACA;IACA;EACA;AACA"}]}