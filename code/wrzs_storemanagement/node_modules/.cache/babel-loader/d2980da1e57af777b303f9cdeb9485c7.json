{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\components\\Tinymce\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\components\\Tinymce\\index.vue","mtime":1686935646956},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\babel.config.js","mtime":1686935646926},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKg0KICogZG9jczoNCiAqIGh0dHBzOi8vcGFuamlhY2hlbi5naXRodWIuaW8vdnVlLWVsZW1lbnQtYWRtaW4tc2l0ZS9mZWF0dXJlL2NvbXBvbmVudC9yaWNoLWVkaXRvci5odG1sI3RpbnltY2UNCiAqLwppbXBvcnQgZWRpdG9ySW1hZ2UgZnJvbSAnLi9jb21wb25lbnRzL0VkaXRvckltYWdlJzsKaW1wb3J0IHBsdWdpbnMgZnJvbSAnLi9wbHVnaW5zJzsKaW1wb3J0IHRvb2xiYXIgZnJvbSAnLi90b29sYmFyJzsKaW1wb3J0IGxvYWQgZnJvbSAnLi9keW5hbWljTG9hZFNjcmlwdCc7CgovLyB3aHkgdXNlIHRoaXMgY2RuLCBkZXRhaWwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3RpbnltY2UtYWxsLWluLW9uZQp2YXIgdGlueW1jZUNETiA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3RpbnltY2UtYWxsLWluLW9uZUA0LjkuMy90aW55bWNlLm1pbi5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGlueW1jZScsCiAgY29tcG9uZW50czogewogICAgZWRpdG9ySW1hZ2U6IGVkaXRvckltYWdlCiAgfSwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ3Z1ZS10aW55bWNlLScgKyArbmV3IERhdGUoKSArICgoTWF0aC5yYW5kb20oKSAqIDEwMDApLnRvRml4ZWQoMCkgKyAnJyk7CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdG9vbGJhcjogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtZW51YmFyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ZpbGUgZWRpdCBpbnNlcnQgdmlldyBmb3JtYXQgdGFibGUnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogMzYwCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnYXV0bycKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNDaGFuZ2U6IGZhbHNlLAogICAgICBoYXNJbml0OiBmYWxzZSwKICAgICAgdGlueW1jZUlkOiB0aGlzLmlkLAogICAgICBmdWxsc2NyZWVuOiBmYWxzZSwKICAgICAgbGFuZ3VhZ2VUeXBlTGlzdDogewogICAgICAgICdlbic6ICdlbicsCiAgICAgICAgJ3poJzogJ3poX0NOJywKICAgICAgICAnZXMnOiAnZXNfTVgnLAogICAgICAgICdqYSc6ICdqYScKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb250YWluZXJXaWR0aDogZnVuY3Rpb24gY29udGFpbmVyV2lkdGgoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGg7CiAgICAgIGlmICgvXltcZF0rKFwuW1xkXSspPyQvLnRlc3Qod2lkdGgpKSB7CiAgICAgICAgLy8gbWF0Y2hlcyBgMTAwYCwgYCcxMDAnYAogICAgICAgIHJldHVybiAiIi5jb25jYXQod2lkdGgsICJweCIpOwogICAgICB9CiAgICAgIHJldHVybiB3aWR0aDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAoIXRoaXMuaGFzQ2hhbmdlICYmIHRoaXMuaGFzSW5pdCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB3aW5kb3cudGlueW1jZS5nZXQoX3RoaXMyLnRpbnltY2VJZCkuc2V0Q29udGVudCh2YWwgfHwgJycpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIGlmICh3aW5kb3cudGlueW1jZSkgewogICAgICB0aGlzLmluaXRUaW55bWNlKCk7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLmRlc3Ryb3lUaW55bWNlKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuZGVzdHJveVRpbnltY2UoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICAvLyBkeW5hbWljIGxvYWQgdGlueW1jZSBmcm9tIGNkbgogICAgICBsb2FkKHRpbnltY2VDRE4sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBfdGhpczMuaW5pdFRpbnltY2UoKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdFRpbnltY2U6IGZ1bmN0aW9uIGluaXRUaW55bWNlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgd2luZG93LnRpbnltY2UuaW5pdCh7CiAgICAgICAgc2VsZWN0b3I6ICIjIi5jb25jYXQodGhpcy50aW55bWNlSWQpLAogICAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlVHlwZUxpc3RbJ3poJ10sCiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCwKICAgICAgICBib2R5X2NsYXNzOiAncGFuZWwtYm9keSAnLAogICAgICAgIG9iamVjdF9yZXNpemluZzogZmFsc2UsCiAgICAgICAgdG9vbGJhcjogdGhpcy50b29sYmFyLmxlbmd0aCA+IDAgPyB0aGlzLnRvb2xiYXIgOiB0b29sYmFyLAogICAgICAgIG1lbnViYXI6IHRoaXMubWVudWJhciwKICAgICAgICBwbHVnaW5zOiBwbHVnaW5zLAogICAgICAgIGVuZF9jb250YWluZXJfb25fZW1wdHlfYmxvY2s6IHRydWUsCiAgICAgICAgcG93ZXJwYXN0ZV93b3JkX2ltcG9ydDogJ2NsZWFuJywKICAgICAgICBjb2RlX2RpYWxvZ19oZWlnaHQ6IDQ1MCwKICAgICAgICBjb2RlX2RpYWxvZ193aWR0aDogMTAwMCwKICAgICAgICBhZHZsaXN0X2J1bGxldF9zdHlsZXM6ICdzcXVhcmUnLAogICAgICAgIGFkdmxpc3RfbnVtYmVyX3N0eWxlczogJ2RlZmF1bHQnLAogICAgICAgIGltYWdldG9vbHNfY29yc19ob3N0czogWyd3d3cudGlueW1jZS5jb20nLCAnY29kZXBlbi5pbyddLAogICAgICAgIGRlZmF1bHRfbGlua190YXJnZXQ6ICdfYmxhbmsnLAogICAgICAgIGxpbmtfdGl0bGU6IGZhbHNlLAogICAgICAgIG5vbmJyZWFraW5nX2ZvcmNlX3RhYjogdHJ1ZSwKICAgICAgICAvLyBpbnNlcnRpbmcgbm9uYnJlYWtpbmcgc3BhY2UgJm5ic3A7IG5lZWQgTm9uYnJlYWtpbmcgU3BhY2UgUGx1Z2luCiAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24gaW5pdF9pbnN0YW5jZV9jYWxsYmFjayhlZGl0b3IpIHsKICAgICAgICAgIGlmIChfdGhpcy52YWx1ZSkgewogICAgICAgICAgICBlZGl0b3Iuc2V0Q29udGVudChfdGhpcy52YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpcy5oYXNJbml0ID0gdHJ1ZTsKICAgICAgICAgIGVkaXRvci5vbignTm9kZUNoYW5nZSBDaGFuZ2UgS2V5VXAgU2V0Q29udGVudCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM0Lmhhc0NoYW5nZSA9IHRydWU7CiAgICAgICAgICAgIF90aGlzNC4kZW1pdCgnaW5wdXQnLCBlZGl0b3IuZ2V0Q29udGVudCgpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKGVkaXRvcikgewogICAgICAgICAgZWRpdG9yLm9uKCdGdWxsc2NyZWVuU3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuZnVsbHNjcmVlbiA9IGUuc3RhdGU7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8vIGl0IHdpbGwgdHJ5IHRvIGtlZXAgdGhlc2UgVVJMcyBpbnRhY3QKICAgICAgICAvLyBodHRwczovL3d3dy50aW55LmNsb3VkL2RvY3MtM3gvcmVmZXJlbmNlL2NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvbjN4QGNvbnZlcnRfdXJscy8KICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MTk2MjA1L2Rpc2FibGUtdGlueW1jZS1hYnNvbHV0ZS10by1yZWxhdGl2ZS11cmwtY29udmVyc2lvbnMKICAgICAgICBjb252ZXJ0X3VybHM6IGZhbHNlCiAgICAgICAgLy8g5pW05ZCI5LiD54mb5LiK5LygCiAgICAgICAgLy8gaW1hZ2VzX2RhdGFpbWdfZmlsdGVyKGltZykgewogICAgICAgIC8vICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgLy8gICAgIGNvbnN0ICRpbWFnZSA9ICQoaW1nKTsKICAgICAgICAvLyAgICAgJGltYWdlLnJlbW92ZUF0dHIoJ3dpZHRoJyk7CiAgICAgICAgLy8gICAgICRpbWFnZS5yZW1vdmVBdHRyKCdoZWlnaHQnKTsKICAgICAgICAvLyAgICAgaWYgKCRpbWFnZVswXS5oZWlnaHQgJiYgJGltYWdlWzBdLndpZHRoKSB7CiAgICAgICAgLy8gICAgICAgJGltYWdlLmF0dHIoJ2RhdGEtd3NjbnR5cGUnLCAnaW1hZ2UnKTsKICAgICAgICAvLyAgICAgICAkaW1hZ2UuYXR0cignZGF0YS13c2NuaCcsICRpbWFnZVswXS5oZWlnaHQpOwogICAgICAgIC8vICAgICAgICRpbWFnZS5hdHRyKCdkYXRhLXdzY253JywgJGltYWdlWzBdLndpZHRoKTsKICAgICAgICAvLyAgICAgICAkaW1hZ2UuYWRkQ2xhc3MoJ3dzY25waCcpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9LCAwKTsKICAgICAgICAvLyAgIHJldHVybiBpbWcKICAgICAgICAvLyB9LAogICAgICAgIC8vIGltYWdlc191cGxvYWRfaGFuZGxlcihibG9iSW5mbywgc3VjY2VzcywgZmFpbHVyZSwgcHJvZ3Jlc3MpIHsKICAgICAgICAvLyAgIHByb2dyZXNzKDApOwogICAgICAgIC8vICAgY29uc3QgdG9rZW4gPSBfdGhpcy4kc3RvcmUuZ2V0dGVycy50b2tlbjsKICAgICAgICAvLyAgIGdldFRva2VuKHRva2VuKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyAgICAgY29uc3QgdXJsID0gcmVzcG9uc2UuZGF0YS5xaW5pdV91cmw7CiAgICAgICAgLy8gICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgLy8gICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCByZXNwb25zZS5kYXRhLnFpbml1X3Rva2VuKTsKICAgICAgICAvLyAgICAgZm9ybURhdGEuYXBwZW5kKCdrZXknLCByZXNwb25zZS5kYXRhLnFpbml1X2tleSk7CiAgICAgICAgLy8gICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGJsb2JJbmZvLmJsb2IoKSwgdXJsKTsKICAgICAgICAvLyAgICAgdXBsb2FkKGZvcm1EYXRhKS50aGVuKCgpID0+IHsKICAgICAgICAvLyAgICAgICBzdWNjZXNzKHVybCk7CiAgICAgICAgLy8gICAgICAgcHJvZ3Jlc3MoMTAwKTsKICAgICAgICAvLyAgICAgfSkKICAgICAgICAvLyAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgLy8gICAgIGZhaWx1cmUoJ+WHuueOsOacquefpemXrumimO+8jOWIt+aWsOmhtemdou+8jOaIluiAheiBlOezu+eoi+W6j+WRmCcpCiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgLy8gICB9KTsKICAgICAgICAvLyB9LAogICAgICB9KTsKICAgIH0sCiAgICBkZXN0cm95VGlueW1jZTogZnVuY3Rpb24gZGVzdHJveVRpbnltY2UoKSB7CiAgICAgIHZhciB0aW55bWNlID0gd2luZG93LnRpbnltY2UuZ2V0KHRoaXMudGlueW1jZUlkKTsKICAgICAgaWYgKHRoaXMuZnVsbHNjcmVlbikgewogICAgICAgIHRpbnltY2UuZXhlY0NvbW1hbmQoJ21jZUZ1bGxTY3JlZW4nKTsKICAgICAgfQogICAgICBpZiAodGlueW1jZSkgewogICAgICAgIHRpbnltY2UuZGVzdHJveSgpOwogICAgICB9CiAgICB9LAogICAgc2V0Q29udGVudDogZnVuY3Rpb24gc2V0Q29udGVudCh2YWx1ZSkgewogICAgICB3aW5kb3cudGlueW1jZS5nZXQodGhpcy50aW55bWNlSWQpLnNldENvbnRlbnQodmFsdWUpOwogICAgfSwKICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnQoKSB7CiAgICAgIHdpbmRvdy50aW55bWNlLmdldCh0aGlzLnRpbnltY2VJZCkuZ2V0Q29udGVudCgpOwogICAgfSwKICAgIGltYWdlU3VjY2Vzc0NCSzogZnVuY3Rpb24gaW1hZ2VTdWNjZXNzQ0JLKGFycikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gd2luZG93LnRpbnltY2UuZ2V0KF90aGlzNS50aW55bWNlSWQpLmluc2VydENvbnRlbnQoIjxpbWcgY2xhc3M9XCJ3c2NucGhcIiBzcmM9XCIiLmNvbmNhdCh2LnVybCwgIlwiID4iKSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["editorImage","plugins","toolbar","load","tinymceCDN","name","components","props","id","type","String","default","_default","Date","Math","random","toFixed","value","Array","required","menubar","height","Number","width","data","hasChange","hasInit","tinymceId","fullscreen","languageTypeList","computed","containerWidth","test","concat","watch","val","_this2","$nextTick","window","tinymce","get","setContent","mounted","init","activated","initTinymce","deactivated","destroyTinymce","destroyed","methods","_this3","err","$message","error","message","_this4","_this","selector","language","body_class","object_resizing","length","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","nonbreaking_force_tab","init_instance_callback","editor","on","$emit","getContent","setup","e","state","convert_urls","execCommand","destroy","imageSuccessCBK","arr","_this5","forEach","v","insertContent","url"],"sources":["src/components/Tinymce/index.vue"],"sourcesContent":["<template>\r\n  <div :class=\"{fullscreen:fullscreen}\" class=\"tinymce-container\" :style=\"{width:containerWidth}\">\r\n    <textarea :id=\"tinymceId\" class=\"tinymce-textarea\" />\r\n    <div class=\"editor-custom-btn-container\">\r\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * docs:\r\n * https://panjiachen.github.io/vue-element-admin-site/feature/component/rich-editor.html#tinymce\r\n */\r\nimport editorImage from './components/EditorImage'\r\nimport plugins from './plugins'\r\nimport toolbar from './toolbar'\r\nimport load from './dynamicLoadScript'\r\n\r\n// why use this cdn, detail see https://github.com/PanJiaChen/tinymce-all-in-one\r\nconst tinymceCDN = 'https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js'\r\n\r\nexport default {\r\n  name: 'Tinymce',\r\n  components: { editorImage },\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: function() {\r\n        return 'vue-tinymce-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\r\n      }\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    toolbar: {\r\n      type: Array,\r\n      required: false,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    menubar: {\r\n      type: String,\r\n      default: 'file edit insert view format table'\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 360\r\n    },\r\n    width: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 'auto'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      hasChange: false,\r\n      hasInit: false,\r\n      tinymceId: this.id,\r\n      fullscreen: false,\r\n      languageTypeList: {\r\n        'en': 'en',\r\n        'zh': 'zh_CN',\r\n        'es': 'es_MX',\r\n        'ja': 'ja'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    containerWidth() {\r\n      const width = this.width\r\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) { // matches `100`, `'100'`\r\n        return `${width}px`\r\n      }\r\n      return width\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      if (!this.hasChange && this.hasInit) {\r\n        this.$nextTick(() =>\r\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  activated() {\r\n    if (window.tinymce) {\r\n      this.initTinymce()\r\n    }\r\n  },\r\n  deactivated() {\r\n    this.destroyTinymce()\r\n  },\r\n  destroyed() {\r\n    this.destroyTinymce()\r\n  },\r\n  methods: {\r\n    init() {\r\n      // dynamic load tinymce from cdn\r\n      load(tinymceCDN, (err) => {\r\n        if (err) {\r\n          this.$message.error(err.message)\r\n          return\r\n        }\r\n        this.initTinymce()\r\n      })\r\n    },\r\n    initTinymce() {\r\n      const _this = this\r\n      window.tinymce.init({\r\n        selector: `#${this.tinymceId}`,\r\n        language: this.languageTypeList['zh'],\r\n        height: this.height,\r\n        body_class: 'panel-body ',\r\n        object_resizing: false,\r\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\r\n        menubar: this.menubar,\r\n        plugins: plugins,\r\n        end_container_on_empty_block: true,\r\n        powerpaste_word_import: 'clean',\r\n        code_dialog_height: 450,\r\n        code_dialog_width: 1000,\r\n        advlist_bullet_styles: 'square',\r\n        advlist_number_styles: 'default',\r\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\r\n        default_link_target: '_blank',\r\n        link_title: false,\r\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\r\n        init_instance_callback: editor => {\r\n          if (_this.value) {\r\n            editor.setContent(_this.value)\r\n          }\r\n          _this.hasInit = true\r\n          editor.on('NodeChange Change KeyUp SetContent', () => {\r\n            this.hasChange = true\r\n            this.$emit('input', editor.getContent())\r\n          })\r\n        },\r\n        setup(editor) {\r\n          editor.on('FullscreenStateChanged', (e) => {\r\n            _this.fullscreen = e.state\r\n          })\r\n        },\r\n        // it will try to keep these URLs intact\r\n        // https://www.tiny.cloud/docs-3x/reference/configuration/Configuration3x@convert_urls/\r\n        // https://stackoverflow.com/questions/5196205/disable-tinymce-absolute-to-relative-url-conversions\r\n        convert_urls: false\r\n        // 整合七牛上传\r\n        // images_dataimg_filter(img) {\r\n        //   setTimeout(() => {\r\n        //     const $image = $(img);\r\n        //     $image.removeAttr('width');\r\n        //     $image.removeAttr('height');\r\n        //     if ($image[0].height && $image[0].width) {\r\n        //       $image.attr('data-wscntype', 'image');\r\n        //       $image.attr('data-wscnh', $image[0].height);\r\n        //       $image.attr('data-wscnw', $image[0].width);\r\n        //       $image.addClass('wscnph');\r\n        //     }\r\n        //   }, 0);\r\n        //   return img\r\n        // },\r\n        // images_upload_handler(blobInfo, success, failure, progress) {\r\n        //   progress(0);\r\n        //   const token = _this.$store.getters.token;\r\n        //   getToken(token).then(response => {\r\n        //     const url = response.data.qiniu_url;\r\n        //     const formData = new FormData();\r\n        //     formData.append('token', response.data.qiniu_token);\r\n        //     formData.append('key', response.data.qiniu_key);\r\n        //     formData.append('file', blobInfo.blob(), url);\r\n        //     upload(formData).then(() => {\r\n        //       success(url);\r\n        //       progress(100);\r\n        //     })\r\n        //   }).catch(err => {\r\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\r\n        //     console.log(err);\r\n        //   });\r\n        // },\r\n      })\r\n    },\r\n    destroyTinymce() {\r\n      const tinymce = window.tinymce.get(this.tinymceId)\r\n      if (this.fullscreen) {\r\n        tinymce.execCommand('mceFullScreen')\r\n      }\r\n\r\n      if (tinymce) {\r\n        tinymce.destroy()\r\n      }\r\n    },\r\n    setContent(value) {\r\n      window.tinymce.get(this.tinymceId).setContent(value)\r\n    },\r\n    getContent() {\r\n      window.tinymce.get(this.tinymceId).getContent()\r\n    },\r\n    imageSuccessCBK(arr) {\r\n      arr.forEach(v => window.tinymce.get(this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tinymce-container {\r\n  position: relative;\r\n  line-height: normal;\r\n}\r\n\r\n.tinymce-container {\r\n  ::v-deep {\r\n    .mce-fullscreen {\r\n      z-index: 10000;\r\n    }\r\n  }\r\n}\r\n\r\n.tinymce-textarea {\r\n  visibility: hidden;\r\n  z-index: -1;\r\n}\r\n\r\n.editor-custom-btn-container {\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 4px;\r\n  /*z-index: 2005;*/\r\n}\r\n\r\n.fullscreen .editor-custom-btn-container {\r\n  z-index: 10000;\r\n  position: fixed;\r\n}\r\n\r\n.editor-upload-btn {\r\n  display: inline-block;\r\n}\r\n</style>\r\n"],"mappings":"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"}]}