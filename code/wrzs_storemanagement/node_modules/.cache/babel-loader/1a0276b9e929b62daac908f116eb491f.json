{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\system-manage\\store-admin-manage\\admin-store-manage-edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\system-manage\\store-admin-manage\\admin-store-manage-edit.vue","mtime":1686935646985},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\babel.config.js","mtime":1686935646926},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovY29kaW5nL3dyenMvd3J6c19zdG9yZW1hbmFnZW1lbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9jb2Rpbmcvd3J6cy93cnpzX3N0b3JlbWFuYWdlbWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2NvZGluZy93cnpzL3dyenNfc3RvcmVtYW5hZ2VtZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGVkaXRTdG9yZUFkbWluIH0gZnJvbSAiQC9hcGkvc3lzdGVtLW1hbmFnZS9zdG9yZS1hZG1pbi1tYW5hZ2UiOwppbXBvcnQgeyBnZXRTdG9yZUxpc3QgYXMgX2dldFN0b3JlTGlzdCB9IGZyb20gIkAvYXBpL3N0b3JlLW1hbmFnZS9zdG9yZS1tYW5hZ2UiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFkbWluLXN0b3JlLW1hbmFnZS1hZGQiLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBzdG9yZUFkbWluTWFuYWdlOiBmdW5jdGlvbiBzdG9yZUFkbWluTWFuYWdlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZVsnc3lzdGVtLW1hbmFnZS9zdG9yZS1hZG1pbi1tYW5hZ2UnXS5zdG9yZUFkbWluTWFuYWdlOwogICAgfQogIH0pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy8g6aqM6K+B56m6CiAgICB2YXIgdmFsaWRhdGVFbXB0eSA9IGZ1bmN0aW9uIHZhbGlkYXRlRW1wdHkocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICghdmFsdWUudHJpbSgpKSB7CiAgICAgICAgaWYgKHJ1bGUuZmllbGQgPT09ICd1c2VyX25hbWUnKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWnk+WQjScpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgY2FsbGJhY2soKTsKICAgIH07CiAgICAvLyDpqozor4HmiYvmnLrlj7cKICAgIHZhciB2YWxpZGF0ZU1vYmlsZSA9IGZ1bmN0aW9uIHZhbGlkYXRlTW9iaWxlKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIS9eMVszNDU2Nzg5XVxkezl9JC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpTEx5L2N5q2j56Gu55qE5omL5py65Y+3JykpOwogICAgICB9CiAgICAgIGNhbGxiYWNrKCk7CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgLy8g6Zeo5bqX5YiX6KGoCiAgICAgIHN0b3JlTGlzdDogW10sCiAgICAgIGZvcm06IHt9LAogICAgICBmb3JtUnVsZXM6IHsKICAgICAgICB1c2VyX25hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlp5PlkI0nCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZUVtcHR5CiAgICAgICAgfV0sCiAgICAgICAgbW9iaWxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5omL5py65Y+3JwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVNb2JpbGUKICAgICAgICB9XSwKICAgICAgICBzdG9yZV9pZF9hcnI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npl6jlupcnCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NvbXBvbmVudHNDaGFuZ2UnLCAnaW5kZXgnKTsKICAgIH0sCiAgICAvLyDkv67mlLnpl6jlupfnrqHnkIblkZgKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdFN0b3JlQWRtaW4oX3RoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwogICAgICAgICAgICAgICAgICBfdGhpcy5iYWNrKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy8g6I635Y+W6Zeo5bqX5YiX6KGoCiAgICBnZXRTdG9yZUxpc3Q6IGZ1bmN0aW9uIGdldFN0b3JlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF9nZXRTdG9yZUxpc3QoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuc3RvcmVMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFN0b3JlTGlzdCgpOwogICAgdGhpcy5mb3JtID0gdGhpcy5zdG9yZUFkbWluTWFuYWdlOwogICAgZGVsZXRlIHRoaXMuZm9ybS5wdzsKICB9Cn07"},{"version":3,"names":["editStoreAdmin","getStoreList","mapState","name","computed","_objectSpread","storeAdminManage","state","data","validateEmpty","rule","value","callback","trim","field","Error","validateMobile","test","storeList","form","formRules","user_name","required","message","validator","mobile","store_id_arr","methods","back","$emit","submit","_this","$refs","validate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","valid","wrap","_callee$","_context","prev","next","then","$message","success","abrupt","stop","_x","apply","arguments","_this2","_callee2","_callee2$","_context2","list","mounted","pw"],"sources":["src/views/system-manage/store-admin-manage/admin-store-manage-edit.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-store-manage-edit\">\r\n    <el-button @click=\"back\" icon=\"el-icon-back\">返回门店管理员列表</el-button>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"8\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"formRules\" label-width=\"100px\">\r\n          <el-form-item label=\"姓名\" prop=\"user_name\">\r\n            <el-input placeholder=\"请输入姓名\" maxlength=\"25\" v-model=\"form.user_name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"手机号\" prop=\"mobile\">\r\n            <el-input placeholder=\"请输入手机号\" maxlength=\"11\" v-model=\"form.mobile\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\" prop=\"status\">\r\n            <el-radio v-model=\"form.status\" :label=\"0\">禁用</el-radio>\r\n            <el-radio v-model=\"form.status\" :label=\"1\">启用</el-radio>\r\n          </el-form-item>\r\n          <el-form-item label=\"级别\" prop=\"level\">\r\n            <el-radio v-model=\"form.level\" :label=\"1\">普通管理</el-radio>\r\n            <el-radio v-model=\"form.level\" :label=\"0\">超级管理</el-radio>\r\n          </el-form-item>\r\n          <el-form-item label=\"短信通知\" prop=\"sms_status\">\r\n            <el-radio v-model=\"form.sms_status\" :label=\"0\">不通知</el-radio>\r\n            <el-radio v-model=\"form.sms_status\" :label=\"1\">通知</el-radio>\r\n          </el-form-item>\r\n          <el-form-item label=\"选择门店\" prop=\"store_id_arr\">\r\n            <el-select style=\"width:100%\" v-model=\"form.store_id_arr\" multiple placeholder=\"请选择要管理的门店\" filterable>\r\n              <el-option\r\n                v-for=\"item in storeList\"\r\n                :key=\"item.store_id\"\r\n                :label=\"item.store_name\"\r\n                :value=\"item.store_id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button @click=\"back\">返回</el-button>\r\n            <el-button type=\"primary\" @click=\"submit\">立即修改</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {editStoreAdmin} from \"@/api/system-manage/store-admin-manage\"\r\nimport {getStoreList} from \"@/api/store-manage/store-manage\"\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: \"admin-store-manage-add\",\r\n  computed: {\r\n    ...mapState({\r\n      storeAdminManage: state => state['system-manage/store-admin-manage'].storeAdminManage\r\n    })\r\n  },\r\n  data() {\r\n    // 验证空\r\n    const validateEmpty = (rule, value, callback) => {\r\n      if (!value.trim()) {\r\n        if (rule.field === 'user_name') {\r\n          callback(new Error('请输入姓名'))\r\n        }\r\n      }\r\n      callback()\r\n    }\r\n    // 验证手机号\r\n    const validateMobile = (rule, value, callback) => {\r\n      if (!/^1[3456789]\\d{9}$/.test(value)) {\r\n        callback(new Error('请输入11位正确的手机号'))\r\n      }\r\n      callback()\r\n    }\r\n    return {\r\n      // 门店列表\r\n      storeList: [],\r\n      form: {},\r\n      formRules: {\r\n        user_name: [{\r\n          required: true,\r\n          message: '请输入姓名'\r\n        }, {\r\n          validator: validateEmpty\r\n        }],\r\n        mobile: [{\r\n          required: true,\r\n          message: '请输入手机号'\r\n        }, {\r\n          validator: validateMobile\r\n        }],\r\n        store_id_arr: [{\r\n          required: true,\r\n          message: '请选择门店'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    back() {\r\n      this.$emit('componentsChange', 'index')\r\n    },\r\n    // 修改门店管理员\r\n    submit() {\r\n      this.$refs['form'].validate(async valid => {\r\n        if (valid) {\r\n          await editStoreAdmin(this.form).then(() => {\r\n            this.$message.success('修改成功')\r\n            this.back()\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 获取门店列表\r\n    async getStoreList() {\r\n      await getStoreList().then(data => {\r\n        this.storeList = data.list\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getStoreList()\r\n    this.form = this.storeAdminManage\r\n    delete this.form.pw\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAAA,cAAA;AACA,SAAAC,YAAA,IAAAA,aAAA;AACA,SAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,QAAA,EAAAC,aAAA,KACAH,QAAA;IACAI,gBAAA,WAAAA,iBAAAC,KAAA;MAAA,OAAAA,KAAA,qCAAAD,gBAAA;IAAA;EACA,GACA;EACAE,IAAA,WAAAA,KAAA;IACA;IACA,IAAAC,aAAA,YAAAA,cAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,KAAAD,KAAA,CAAAE,IAAA;QACA,IAAAH,IAAA,CAAAI,KAAA;UACAF,QAAA,KAAAG,KAAA;QACA;MACA;MACAH,QAAA;IACA;IACA;IACA,IAAAI,cAAA,YAAAA,eAAAN,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,yBAAAK,IAAA,CAAAN,KAAA;QACAC,QAAA,KAAAG,KAAA;MACA;MACAH,QAAA;IACA;IACA;MACA;MACAM,SAAA;MACAC,IAAA;MACAC,SAAA;QACAC,SAAA;UACAC,QAAA;UACAC,OAAA;QACA;UACAC,SAAA,EAAAf;QACA;QACAgB,MAAA;UACAH,QAAA;UACAC,OAAA;QACA;UACAC,SAAA,EAAAR;QACA;QACAU,YAAA;UACAJ,QAAA;UACAC,OAAA;QACA;MACA;IACA;EACA;EACAI,OAAA;IACAC,IAAA,WAAAA,KAAA;MACA,KAAAC,KAAA;IACA;IACA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,KAAA,SAAAC,QAAA;QAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAAC,KAAA;UAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAA,KACAL,KAAA;kBAAAG,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAAAF,QAAA,CAAAE,IAAA;gBAAA,OACA5C,cAAA,CAAA+B,KAAA,CAAAZ,IAAA,EAAA0B,IAAA;kBACAd,KAAA,CAAAe,QAAA,CAAAC,OAAA;kBACAhB,KAAA,CAAAH,IAAA;gBACA;cAAA;gBAAAc,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAA,OAAAF,QAAA,CAAAM,MAAA,WAEA;cAAA;cAAA;gBAAA,OAAAN,QAAA,CAAAO,IAAA;YAAA;UAAA,GAAAX,OAAA;QAAA,CAEA;QAAA,iBAAAY,EAAA;UAAA,OAAAhB,IAAA,CAAAiB,KAAA,OAAAC,SAAA;QAAA;MAAA;IACA;IACA;IACAnD,YAAA,WAAAA,aAAA;MAAA,IAAAoD,MAAA;MAAA,OAAAlB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAiB,SAAA;QAAA,OAAAlB,mBAAA,GAAAI,IAAA,UAAAe,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAb,IAAA,GAAAa,SAAA,CAAAZ,IAAA;YAAA;cAAAY,SAAA,CAAAZ,IAAA;cAAA,OACA3C,aAAA,GAAA4C,IAAA,WAAArC,IAAA;gBACA6C,MAAA,CAAAnC,SAAA,GAAAV,IAAA,CAAAiD,IAAA;cACA;YAAA;YAAA;cAAA,OAAAD,SAAA,CAAAP,IAAA;UAAA;QAAA,GAAAK,QAAA;MAAA;IACA;EACA;EACAI,OAAA,WAAAA,QAAA;IACA,KAAAzD,YAAA;IACA,KAAAkB,IAAA,QAAAb,gBAAA;IACA,YAAAa,IAAA,CAAAwC,EAAA;EACA;AACA"}]}