{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\service-manage\\service-manage-index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\service-manage\\service-manage-index.vue","mtime":1686935646984},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IHsKICAgIG1hcFN0YXRlCiAgfSBmcm9tICd2dWV4JwogIGltcG9ydCB7IGdldFNlcnZpY2VMaXN0IH0gZnJvbSAnQC9hcGkvc3RvcmUtbWFuYWdlL3NlcnZpY2UtbWFuYWdlLmpzJwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnc2VydmljZS1tYW5hZ2UtaW5kZXgnLAogICAgY29tcHV0ZWQ6IHsKICAgICAgLi4ubWFwU3RhdGUoewogICAgICAgIHN0b3JlTWFuYWdlOiBzdGF0ZSA9PiBzdGF0ZVsnc3RvcmUtbWFuYWdlL3N0b3JlLW1hbmFnZSddLnN0b3JlTWFuYWdlLAogICAgICAgIHJvb21NYW5hZ2U6IHN0YXRlID0+IHN0YXRlWydzdG9yZS1tYW5hZ2Uvcm9vbS1tYW5hZ2UnXS5yb29tTWFuYWdlCiAgICAgIH0pCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0YWJsZURhdGE6IHsKICAgICAgICAgIGxpc3Q6IFtdLAogICAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgICB0b3RhbDogMCwKICAgICAgICAgIHNlbGVjdGlvbk9iajogW10sCiAgICAgICAgICBzZWxlY3Rpb25JZHM6IFtdCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAvLyDov5Tlm57kuIrkuIDpobUKICAgICAgYmFjaygpIHsKICAgICAgICB0aGlzLiRlbWl0KCdiYWNrJywgJ3Jvb20nKQogICAgICB9LAogICAgICAvLyDmt7vliqDmnI3liqEKICAgICAgYWRkU2VydmljZSgpIHsKICAgICAgICB0aGlzLiRlbWl0KCdjb21wb25lbnRzQ2hhbmdlJywgJ2FkZCcpCiAgICAgIH0sCiAgICAgIC8vIOiOt+WPluacjeWKoeWIl+ihqAogICAgICBhc3luYyBnZXRTZXJ2aWNlTGlzdCgpIHsKICAgICAgICBhd2FpdCBnZXRTZXJ2aWNlTGlzdCh7CiAgICAgICAgICByb29tX2lkOiB0aGlzLnJvb21NYW5hZ2Uucm9vbV9pZCwKICAgICAgICAgIGxpbWl0OiB0aGlzLnRhYmxlRGF0YS5wYWdlU2l6ZSwKICAgICAgICAgIHBhZ2U6IHRoaXMudGFibGVEYXRhLmN1cnJlbnRQYWdlCiAgICAgICAgfSkudGhlbihkYXRhID0+IHsKCQkJCQl0aGlzLnRhYmxlRGF0YS5saXN0ID0gZGF0YS5saXN0CgkJCQkJdGhpcy50YWJsZURhdGEudG90YWwgPSBkYXRhLmNvdW50CgkJCQl9KQogICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgdGhpcy5nZXRTZXJ2aWNlTGlzdCgpCiAgICB9CiAgfQo="},{"version":3,"sources":["service-manage-index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"service-manage-index.vue","sourceRoot":"src/views/store-manage/service-manage","sourcesContent":["<template>\r\n  <div class=\"service-manage-index\">\r\n    <el-button icon=\"el-icon-back\" @click=\"back\">返回房间列表</el-button>\r\n    <el-button type=\"primary\" icon=\"el-icon-circle-plus-outline\" @click=\"addService\">添加服务</el-button>\r\n    <el-button type=\"warning\" icon=\"el-icon-edit\" :disabled=\"tableData.selectionIds.length !== 1\"\r\n      @click=\"editManJian(tableData.selectionObj[0])\">编辑</el-button>\r\n    <el-button type=\"danger\" icon=\"el-icon-delete\" :disabled=\"!tableData.selectionIds.length\"\r\n      @click=\"delManJian(tableData.selectionIds)\">批量删除</el-button>\r\n    <el-tag type=\"primary\">{{ `当前位置：${storeManage.store_name}，${roomManage.room_name}` }}</el-tag>\r\n    <el-table ref=\"table\" :data=\"tableData.list\" border class=\"mt15\" height=\"calc(100vh - 225px)\"\r\n      @selection-change=\"$selectionChange($event, 'service_id')\">\r\n      <el-table-column type=\"selection\" width=\"50\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"ID\" prop=\"service_id\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"服务标题\" prop=\"service_title\"></el-table-column>\r\n      <el-table-column label=\"服务主图\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image :src=\"baseUrl + scope.row.service_image\" fit=\"cover\" style=\"width:100%;height:100px;\" :preview-src-list=\"[baseUrl + scope.row.service_image]\"></el-image>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"服务内容\" prop=\"service_content\"></el-table-column>\r\n      <el-table-column label=\"通知手机\" prop=\"sms_mobile\"></el-table-column>\r\n      <el-table-column label=\"通知开关\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch v-model=\"scope.row.sms_status\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"服务费用(元)\" prop=\"service_price\"></el-table-column>\r\n      <el-table-column label=\"操作\" type=\"action\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"warning\" icon=\"el-icon-edit\" size=\"mini\" @click=\"editService(scope.row)\">编辑</el-button>\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"delService([scope.row.service_id])\">删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <Pagination :tableData=\"tableData\" @pageChange=\"$pageChange\" :getList=\"getServiceList\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    mapState\r\n  } from 'vuex'\r\n  import { getServiceList } from '@/api/store-manage/service-manage.js'\r\n\r\n  export default {\r\n    name: 'service-manage-index',\r\n    computed: {\r\n      ...mapState({\r\n        storeManage: state => state['store-manage/store-manage'].storeManage,\r\n        roomManage: state => state['store-manage/room-manage'].roomManage\r\n      })\r\n    },\r\n    data() {\r\n      return {\r\n        tableData: {\r\n          list: [],\r\n          currentPage: 1,\r\n          pageSize: 10,\r\n          total: 0,\r\n          selectionObj: [],\r\n          selectionIds: []\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      // 返回上一页\r\n      back() {\r\n        this.$emit('back', 'room')\r\n      },\r\n      // 添加服务\r\n      addService() {\r\n        this.$emit('componentsChange', 'add')\r\n      },\r\n      // 获取服务列表\r\n      async getServiceList() {\r\n        await getServiceList({\r\n          room_id: this.roomManage.room_id,\r\n          limit: this.tableData.pageSize,\r\n          page: this.tableData.currentPage\r\n        }).then(data => {\r\n\t\t\t\t\tthis.tableData.list = data.list\r\n\t\t\t\t\tthis.tableData.total = data.count\r\n\t\t\t\t})\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getServiceList()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}