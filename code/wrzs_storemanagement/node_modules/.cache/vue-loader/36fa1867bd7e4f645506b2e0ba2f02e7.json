{"remainingRequest":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\store-manage-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\src\\views\\store-manage\\store-manage-add.vue","mtime":1686935646984},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1686936409992},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686936409160},{"path":"D:\\coding\\wrzs\\wrzs_storemanagement\\node_modules\\vue-loader\\lib\\index.js","mtime":1686936410308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgYWRkU3RvcmUKfSBmcm9tICJAL2FwaS9zdG9yZS1tYW5hZ2Uvc3RvcmUtbWFuYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzdG9yZS1tYW5hZ2UtYWRkIiwKICBkYXRhKCkgewogICAgLy8g6aqM6K+B56m6CiAgICBjb25zdCB2YWxpZGF0ZUVtcHR5ID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAoIXZhbHVlLnRyaW0oKSkgewogICAgICAgIGlmIChydWxlLmZpZWxkID09PSAnc3RvcmVfbmFtZScpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl6Zeo5bqX5ZCN56ewJykpCiAgICAgICAgfQogICAgICAgIGlmIChydWxlLmZpZWxkID09PSAnYWRkcmVzcycpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl6Zeo5bqX6K+m57uG5Zyw5Z2AJykpCiAgICAgICAgfQogICAgICB9CiAgICAgIGNhbGxiYWNrKCkKICAgIH0KICAgIHJldHVybiB7CiAgICAgIC8v5Zu+54mH5Y6L57yp5q+U5L6LCiAgICAgIHF1YWxpdHk6MC41LAogICAgICBmb3JtOiB7CiAgICAgICAgdmlkOiAnJywKICAgICAgICBzdG9yZV9pbWFnZTogJycsCiAgICAgICAgc3RvcmVfbmFtZTogJycsCiAgICAgICAgc3RvcmVfdHlwZTogMSwKICAgICAgICBsYWJlbDogJycsCiAgICAgICAgY29udGFjdDogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgc3RvcmVfYWJvdXQ6ICcnLAogICAgICAgIGxvbmdpdHVkZTogJycsCiAgICAgICAgbGF0aXR1ZGU6ICcnLAogICAgICAgIHByb3ZpbmNlOiAnJywKICAgICAgICBjaXR5OiAnJywKICAgICAgICBkaXN0cmljdDogJycKICAgICAgfSwKICAgICAgZm9ybVJ1bGVzOiB7CiAgICAgICAgbGFiZWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpl6jlupfmoIfnrb4nCiAgICAgICAgfV0sCiAgICAgICAgc3RvcmVfaW1hZ2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fkuIrkvKDpl6jlupfkuLvlm74nCiAgICAgICAgfV0sCiAgICAgICAgc3RvcmVfbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemXqOW6l+WQjeensCcKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlRW1wdHkKICAgICAgICB9XSwKICAgICAgICBjb250YWN0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6IGU57O75pa55byPJwogICAgICAgIH1dLAogICAgICAgIGFkZHJlc3M6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpl6jlupfor6bnu4blnLDlnYAnCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZUVtcHR5CiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy8g5by556qX5a+56LGhCiAgICAgIG1hcERpYWxvZ09iajogewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHNlYXJjaFRleHQ6ICcnLAogICAgICAgIGxhdDogJycsCiAgICAgICAgbG9uOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBNQVA6IG51bGwKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYmVmb3JlVXBsb2FkKGZpbGUpIHsgLy8g5paH5Lu25LiK5Lyg5YmN6ZKp5a2QCiAgICAgIGNvbnN0IGlzSnBnT3JQbmcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJyB8fCBmaWxlLnR5cGUgPT09ICdpbWFnZS9wbmcnIC8v5Zu+54mH5qC85byP5piv5ZCm5Li6cG5n5oiWanBnCiAgICAgIGNvbnN0IGlzTHQxME0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDEwIC8v5Yik5pat5Zu+54mH5aSn5bCP5piv5ZCm6LaF6L+HMTBNQgogICAgICBpZiAoIWlzSnBnT3JQbmcpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlofku7bmoLzlvI/plJnor6/vvIEnKQogICAgICB9IGVsc2UgaWYoIWlzTHQxME0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlofku7bkuI3og73otoXov4cxME3vvIEnKQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCkKICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCkKICAgICAgICAgIGltYWdlLm9ubG9hZCA9IChpbWFnZUV2ZW50KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgIGNvbnN0IG9yaWdpbldpZHRoID0gaW1hZ2Uud2lkdGgKICAgICAgICAgICAgY29uc3Qgb3JpZ2luSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0CiAgICAgICAgICAgIC8vIOacgOWkp+WwuuWvuOmZkOWItu+8jOWPr+mAmui/h+iuvue9ruWuvemrmOadpeWunueOsOWbvueJh+WOi+e8qeeoi+W6pgogICAgICAgICAgICBsZXQgbWF4V2lkdGggPSAxMTI1LCBtYXhIZWlnaHQgPSAxMTI1CiAgICAgICAgICAgIC8vIOebruagh+WwuuWvuAogICAgICAgICAgICBsZXQgdGFyZ2V0V2lkdGggPSBvcmlnaW5XaWR0aCwgdGFyZ2V0SGVpZ2h0ID0gb3JpZ2luSGVpZ2h0CiAgICAgICAgICAgIC8vIOWbvueJh+WwuuWvuOi2hei/hzgwMHg4MDDnmoTpmZDliLYKICAgICAgICAgICAgaWYgKG9yaWdpbldpZHRoID4gbWF4V2lkdGggfHwgb3JpZ2luSGVpZ2h0ID4gbWF4SGVpZ2h0KSB7CiAgICAgICAgICAgICAgaWYgKG9yaWdpbldpZHRoIC8gb3JpZ2luSGVpZ2h0ID4gbWF4V2lkdGggLyBtYXhIZWlnaHQpIHsKICAgICAgICAgICAgICAgIC8vIOabtOWuve+8jOaMieeFp+WuveW6pumZkOWumuWwuuWvuAogICAgICAgICAgICAgICAgdGFyZ2V0V2lkdGggPSBtYXhXaWR0aDsKICAgICAgICAgICAgICAgIHRhcmdldEhlaWdodCA9IE1hdGgucm91bmQobWF4V2lkdGggKiAob3JpZ2luSGVpZ2h0IC8gb3JpZ2luV2lkdGgpKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGFyZ2V0SGVpZ2h0ID0gbWF4SGVpZ2h0OwogICAgICAgICAgICAgICAgdGFyZ2V0V2lkdGggPSBNYXRoLnJvdW5kKG1heEhlaWdodCAqIChvcmlnaW5XaWR0aCAvIG9yaWdpbkhlaWdodCkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYW52YXMud2lkdGggPSB0YXJnZXRXaWR0aAogICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGFyZ2V0SGVpZ2h0CiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRhcmdldFdpZHRoLCB0YXJnZXRIZWlnaHQpCiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0KQogICAgICAgICAgICBjb25zdCBkYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDAuOSkKICAgICAgICAgICAgY29uc3QgYmxvYkRhdGEgPSBfdGhpcy5kYXRhVVJJdG9CbG9iKGRhdGFVcmwsICdpbWFnZS9qcGVnJykKICAgICAgICAgICAgcmVzb2x2ZShibG9iRGF0YSkKICAgICAgICAgIH0KICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSA9PiB7IGltYWdlLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDsgfSkKICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpCiAgICAgICAgfSkKICAgICAgfQogICAgICByZXR1cm4gaXNKcGdPclBuZyAmJiBpc0x0MTBNCiAgICB9LAogICAgZGF0YVVSSXRvQmxvYihkYXRhVVJJLCB0eXBlKSB7CiAgICAgIHZhciBiaW5hcnkgPSBhdG9iKGRhdGFVUkkuc3BsaXQoJywnKVsxXSk7CiAgICAgIHZhciBhcnJheSA9IFtdOwogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYmluYXJ5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYXJyYXkucHVzaChiaW5hcnkuY2hhckNvZGVBdChpKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ldyBCbG9iKFtuZXcgVWludDhBcnJheShhcnJheSldLCB7dHlwZTogdHlwZX0pOwogICAgfSwKICAgIC8vIOi/lOWbnuS4iuS4gOmhtQogICAgYmFjaygpIHsKICAgICAgdGhpcy4kZW1pdCgnY29tcG9uZW50c0NoYW5nZScsICdpbmRleCcpCiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBzdWJtaXQoKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBhd2FpdCBhZGRTdG9yZSh0aGlzLmZvcm0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpCiAgICAgICAgICAgIHRoaXMuYmFjaygpCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5LiK5Lyg5Zu+54mH5oiQ5Yqf55qE6ZKp5a2QCiAgICB1cGxvYWRTdWNjZXNzKHJlcykgewogICAgICB0aGlzLmZvcm0uc3RvcmVfaW1hZ2UgPSByZXMuZGF0YQogICAgfSwKICAgIC8vIOWIoOmZpOS4iuS8oOmXqOW6l+WbvueJhwogICAgcmVtb3ZlVXBsb2FkKCkgewogICAgICB0aGlzLmZvcm0uc3RvcmVfaW1hZ2UgPSAnJwogICAgfSwKICAgIC8vIOWcsOWbvuaooeeziuafpeivouWunuS+iwogICAgaW5pdE1hcEZpbHRlclBsYWNlKCkgewogICAgICBjb25zdCBhdXRvID0gbmV3IEFNYXAuQXV0b2NvbXBsZXRlKHsKICAgICAgICBpbnB1dDogJ3RpcGlucHV0JwogICAgICB9KQogICAgICAvLyDmnoTpgKDlnLDngrnmn6Xor6LnsbsKICAgICAgY29uc3QgcGxhY2VTZWFyY2ggPSBuZXcgQU1hcC5QbGFjZVNlYXJjaCh7CiAgICAgICAgbWFwOiB0aGlzLm1hcERpYWxvZ09iai5NQVAKICAgICAgfSkKICAgICAgY29uc3QgZ2VvY29kZXIgPSBuZXcgQU1hcC5HZW9jb2Rlcih7CiAgICAgICAgLy8gY2l0eTogIjAxMCIsIC8v5Z+O5biC6K6+5Li65YyX5Lqs77yM6buY6K6k77ya4oCc5YWo5Zu94oCdCiAgICAgICAgLy8gcmFkaXVzOiAxMDAwIC8v6IyD5Zu077yM6buY6K6k77yaNTAwCiAgICAgIH0pCiAgICAgIC8vIOazqOWGjOebkeWQrO+8jOW9k+mAieS4reafkOadoeiusOW9leaXtuS8muinpuWPkQogICAgICBBTWFwLmV2ZW50LmFkZExpc3RlbmVyKGF1dG8sICJzZWxlY3QiLCAoZSkgPT4gewogICAgICAgIHBsYWNlU2VhcmNoLnNldENpdHkoZS5wb2kuYWRjb2RlKQogICAgICAgIC8vIOWFs+mUruWtl+afpeivouafpeivogogICAgICAgIHBsYWNlU2VhcmNoLnNlYXJjaChlLnBvaS5uYW1lKQogICAgICAgIHRoaXMubWFwRGlhbG9nT2JqLmFkZHJlc3MgPSBlLnBvaS5kaXN0cmljdCArIGUucG9pLm5hbWUKICAgICAgICB0aGlzLm1hcERpYWxvZ09iai5sYXQgPSBlLnBvaS5sb2NhdGlvbi5sYXQKICAgICAgICB0aGlzLm1hcERpYWxvZ09iai5sb24gPSBlLnBvaS5sb2NhdGlvbi5sbmcKICAgICAgICBnZW9jb2Rlci5nZXRBZGRyZXNzKGUucG9pLmxvY2F0aW9uLmxuZyArICcsJyArIGUucG9pLmxvY2F0aW9uLmxhdCwgKHN0YXR1cywgcmVzdWx0KSA9PiB7CiAgICAgICAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGUnICYmIHJlc3VsdC5yZWdlb2NvZGUpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLnByb3ZpbmNlID0gcmVzdWx0LnJlZ2VvY29kZS5hZGRyZXNzQ29tcG9uZW50LnByb3ZpbmNlCiAgICAgICAgICAgIHRoaXMuZm9ybS5jaXR5ID0gcmVzdWx0LnJlZ2VvY29kZS5hZGRyZXNzQ29tcG9uZW50LmNpdHkKICAgICAgICAgICAgdGhpcy5mb3JtLmRpc3RyaWN0ID0gcmVzdWx0LnJlZ2VvY29kZS5hZGRyZXNzQ29tcG9uZW50LmRpc3RyaWN0CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmoLnmja7nu4/nuqzluqbmn6Xor6LlnLDlnYDlpLHotKUnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgLy8g5Zyw5Zu+5qCH6K6w5p+l6K+i5a6e5L6LCiAgICBpbml0TWFwTWFya2VyUGxhY2UoKSB7CiAgICAgIGxldCBtYXJrZXIgPSBudWxsCiAgICAgIGxldCBtYXJrZXIyID0gbnVsbAoKICAgICAgY29uc3QgZ2VvY29kZXIgPSBuZXcgQU1hcC5HZW9jb2Rlcih7CiAgICAgICAgLy8gY2l0eTogIjAxMCIsIC8v5Z+O5biC6K6+5Li65YyX5Lqs77yM6buY6K6k77ya4oCc5YWo5Zu94oCdCiAgICAgICAgLy8gcmFkaXVzOiAxMDAwIC8v6IyD5Zu077yM6buY6K6k77yaNTAwCiAgICAgIH0pCgogICAgICB0aGlzLm1hcERpYWxvZ09iai5NQVAub24oJ2NsaWNrJywgKGUpID0+IHsKICAgICAgICB0aGlzLm1hcERpYWxvZ09iai5sb24gPSBlLmxuZ2xhdC5nZXRMbmcoKQogICAgICAgIHRoaXMubWFwRGlhbG9nT2JqLmxhdCA9IGUubG5nbGF0LmdldExhdCgpCiAgICAgICAgbWFya2VyID0gbmV3IEFNYXAuTWFya2VyKHsKICAgICAgICAgIHBvc2l0aW9uOiBbdGhpcy5tYXBEaWFsb2dPYmoubG9uLCB0aGlzLm1hcERpYWxvZ09iai5sYXRdCiAgICAgICAgfSkKICAgICAgICBpZiAobWFya2VyMikgewogICAgICAgICAgdGhpcy5tYXBEaWFsb2dPYmouTUFQLnJlbW92ZShtYXJrZXIyKQogICAgICAgIH0KICAgICAgICBtYXJrZXIyID0gbWFya2VyCgogICAgICAgIG1hcmtlci5zZXRNYXAodGhpcy5tYXBEaWFsb2dPYmouTUFQKQogICAgICAgIGdlb2NvZGVyLmdldEFkZHJlc3MoZS5sbmdsYXQuZ2V0TG5nKCkgKyAnLCcgKyBlLmxuZ2xhdC5nZXRMYXQoKSwgKHN0YXR1cywgcmVzdWx0KSA9PiB7CiAgICAgICAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGUnICYmIHJlc3VsdC5yZWdlb2NvZGUpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLnByb3ZpbmNlID0gcmVzdWx0LnJlZ2VvY29kZS5hZGRyZXNzQ29tcG9uZW50LnByb3ZpbmNlCiAgICAgICAgICAgIHRoaXMuZm9ybS5jaXR5ID0gcmVzdWx0LnJlZ2VvY29kZS5hZGRyZXNzQ29tcG9uZW50LmNpdHkKICAgICAgICAgICAgdGhpcy5mb3JtLmRpc3RyaWN0ID0gcmVzdWx0LnJlZ2VvY29kZS5hZGRyZXNzQ29tcG9uZW50LmRpc3RyaWN0CiAgICAgICAgICAgIHRoaXMubWFwRGlhbG9nT2JqLmFkZHJlc3MgPSByZXN1bHQucmVnZW9jb2RlLmZvcm1hdHRlZEFkZHJlc3MKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+agueaNrue7j+e6rOW6puafpeivouWcsOWdgOWksei0pScpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICAvLyDlrp7kvovljJblnLDlm74KICAgIGluaXRNYXAoKSB7CiAgICAgIHRoaXMubWFwRGlhbG9nT2JqLk1BUCA9IG5ldyBBTWFwLk1hcCgnbWFwJywgewogICAgICAgIHJlc2l6ZUVuYWJsZTogdHJ1ZSwKICAgICAgICBjZW50ZXI6IFsxMDYuNjMwMTUzLCAyNi42NDc2NjFdLAogICAgICAgIHpvb206IDEzCiAgICAgIH0pCiAgICAgIHRoaXMuaW5pdE1hcEZpbHRlclBsYWNlKCkKICAgICAgdGhpcy5pbml0TWFwTWFya2VyUGxhY2UoKQogICAgfSwKICAgIC8vIOWcsOWbvuW8ueeqlwogICAgc2hvd01hcERpYWxvZygpIHsKICAgICAgdGhpcy5tYXBEaWFsb2dPYmoudmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuaW5pdE1hcCgpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5YWz6Zet5Zyw5Zu+5by556qXCiAgICBtYXBEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy5tYXBEaWFsb2dPYmoudmlzaWJsZSA9IGZhbHNlCiAgICAgIHRoaXMubWFwRGlhbG9nT2JqLk1BUC5kZXN0cm95KCkKICAgICAgdGhpcy5tYXBEaWFsb2dPYmouc2VhcmNoVGV4dCA9ICcnCiAgICAgIHRoaXMubWFwRGlhbG9nT2JqLmFkZHJlc3MgPSAnJwogICAgICB0aGlzLm1hcERpYWxvZ09iai5sYXQgPSAnJwogICAgICB0aGlzLm1hcERpYWxvZ09iai5sb24gPSAnJwogICAgfSwKICAgIC8vIOWcsOWbvumAieaLqeWujOaIkAogICAgbWFwQ2hvb3NlU3VibWl0KCkgewogICAgICB0aGlzLmZvcm0ubG9uZ2l0dWRlID0gdGhpcy5tYXBEaWFsb2dPYmoubG9uCiAgICAgIHRoaXMuZm9ybS5sYXRpdHVkZSA9IHRoaXMubWFwRGlhbG9nT2JqLmxhdAogICAgICB0aGlzLmZvcm0uYWRkcmVzcyA9IHRoaXMubWFwRGlhbG9nT2JqLmFkZHJlc3MKICAgICAgdGhpcy5tYXBEaWFsb2dDbG9zZSgpCiAgICB9LAogICAgLy8g5riF56m65Zyw5Zu+5p+l6K+i5pWw5o2uCiAgICBjbGVhckRpYWxvZ0RhdGEoKSB7CiAgICAgIHRoaXMubWFwRGlhbG9nT2JqLmFkZHJlc3MgPSAnJwogICAgICB0aGlzLm1hcERpYWxvZ09iai5sYXQgPSAnJwogICAgICB0aGlzLm1hcERpYWxvZ09iai5sb24gPSAnJwogICAgfQogIH0KfQo="},{"version":3,"sources":["store-manage-add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"store-manage-add.vue","sourceRoot":"src/views/store-manage","sourcesContent":["<template>\r\n  <div class=\"store-manage-add\">\r\n    <el-button @click=\"back\" icon=\"el-icon-back\">返回门店列表</el-button>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"8\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"formRules\" label-width=\"120px\">\r\n          <el-form-item label=\"门店图片\" prop=\"store_image\">\r\n            <el-upload :action=\"uploadURL\"  list-type=\"picture-card\" :limit=\"1\" :on-remove=\"removeUpload\"\r\n                       :before-upload=\"beforeUpload\" :on-success=\"uploadSuccess\">\r\n              <i class=\"el-icon-plus\"></i>\r\n            </el-upload>\r\n            <el-tag type=\"warning\">仅限上传一张</el-tag>\r\n          </el-form-item>\r\n          <el-form-item label=\"门店名称\" prop=\"store_name\">\r\n            <el-input placeholder=\"请输入门店名称\" maxlength=\"100\" v-model=\"form.store_name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"门店介绍\" prop=\"store_about\">\r\n            <el-input type=\"textarea\" v-model=\"form.store_about\" placeholder=\"说点什么吧...\" maxlength=\"100\" show-word-limit\r\n              rows=\"4\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"门店类型\" prop=\"store_type\">\r\n            <el-radio-group v-model=\"form.store_type\">\r\n              <el-radio :label=\"1\">共享茶室</el-radio>\r\n              <!-- <el-radio :label=\"2\">舞社唱吧</el-radio> -->\r\n              <!-- <el-radio :label=\"3\">民宿公寓</el-radio> -->\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"腾讯视频vid\" prop=\"vid\">\r\n            <el-input placeholder=\"腾讯视频vid(选填)\" v-model.trim=\"form.vid\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"门店标签\" prop=\"label\">\r\n            <el-input v-model=\"form.label\" maxlength=\"30\" placeholder=\"多个标签用|分隔,例如:舞蹈房|免费WiFi,最多显示5个\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"联系电话\" prop=\"contact\">\r\n            <el-input maxlength=\"20\" v-model=\"form.contact\" placeholder=\"请输入联系电话\"\r\n              @input=\"form.contact = form.contact.replace(/[^\\d]/g,'')\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"详细地址\" prop=\"address\">\r\n            <el-input placeholder=\"请输入您门店的详细地址\" v-model=\"form.address\" type=\"textarea\" rows=\"4\" maxlength=\"100\">\r\n            </el-input>\r\n            <el-button type=\"success\" icon=\"el-icon-location\" size=\"mini\" @click=\"showMapDialog\">定位查询</el-button>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button @click=\"back\">返回</el-button>\r\n            <el-button type=\"primary\" @click=\"submit\">立即添加</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog title=\"高德地图\" :visible.sync=\"mapDialogObj.visible\" :show-close=\"false\" top=\"50px\" width=\"50%\">\r\n      <el-input id=\"tipinput\" autocomplete=\"off\" class=\"dialog-input\" v-model=\"mapDialogObj.searchText\"\r\n        placeholder=\"请输入查询地址\" clearable @clear=\"clearDialogData\"></el-input>\r\n      <div id=\"map\" style=\"width:100%;height:500px\"></div>\r\n      <div class=\"dialog-ipt-group\">\r\n        <el-input :value=\"mapDialogObj.lat\" placeholder=\"纬度\" disabled></el-input>\r\n        <el-input :value=\"mapDialogObj.lon\" placeholder=\"经度\" disabled></el-input>\r\n        <el-input class=\"full\" :value=\"mapDialogObj.address\" placeholder=\"当前地址\" disabled></el-input>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"mapDialogClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"mapChooseSubmit\">确定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    addStore\r\n  } from \"@/api/store-manage/store-manage\";\r\n  export default {\r\n    name: \"store-manage-add\",\r\n    data() {\r\n      // 验证空\r\n      const validateEmpty = (rule, value, callback) => {\r\n        if (!value.trim()) {\r\n          if (rule.field === 'store_name') {\r\n            callback(new Error('请输入门店名称'))\r\n          }\r\n          if (rule.field === 'address') {\r\n            callback(new Error('请输入门店详细地址'))\r\n          }\r\n        }\r\n        callback()\r\n      }\r\n      return {\r\n        //图片压缩比例\r\n        quality:0.5,\r\n        form: {\r\n          vid: '',\r\n          store_image: '',\r\n          store_name: '',\r\n          store_type: 1,\r\n          label: '',\r\n          contact: '',\r\n          address: '',\r\n          store_about: '',\r\n          longitude: '',\r\n          latitude: '',\r\n          province: '',\r\n          city: '',\r\n          district: ''\r\n        },\r\n        formRules: {\r\n          label: [{\r\n            required: true,\r\n            message: '请输入门店标签'\r\n          }],\r\n          store_image: [{\r\n            required: true,\r\n            message: '请上传门店主图'\r\n          }],\r\n          store_name: [{\r\n            required: true,\r\n            message: '请输入门店名称'\r\n          }, {\r\n            validator: validateEmpty\r\n          }],\r\n          contact: [{\r\n            required: true,\r\n            message: '请输入联系方式'\r\n          }],\r\n          address: [{\r\n            required: true,\r\n            message: '请输入门店详细地址'\r\n          }, {\r\n            validator: validateEmpty\r\n          }]\r\n        },\r\n        // 弹窗对象\r\n        mapDialogObj: {\r\n          visible: false,\r\n          searchText: '',\r\n          lat: '',\r\n          lon: '',\r\n          address: '',\r\n          MAP: null\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      beforeUpload(file) { // 文件上传前钩子\r\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png' //图片格式是否为png或jpg\r\n        const isLt10M = file.size / 1024 / 1024 < 10 //判断图片大小是否超过10MB\r\n        if (!isJpgOrPng) {\r\n          this.$message.error('文件格式错误！')\r\n        } else if(!isLt10M) {\r\n          this.$message.error('文件不能超过10M！')\r\n        } else {\r\n          const _this = this\r\n          return new Promise(resolve => {\r\n            const reader = new FileReader()\r\n            const image = new Image()\r\n            image.onload = (imageEvent) => {\r\n              const canvas = document.createElement('canvas');\r\n              const context = canvas.getContext('2d');\r\n              const originWidth = image.width\r\n              const originHeight = image.height\r\n              // 最大尺寸限制，可通过设置宽高来实现图片压缩程度\r\n              let maxWidth = 1125, maxHeight = 1125\r\n              // 目标尺寸\r\n              let targetWidth = originWidth, targetHeight = originHeight\r\n              // 图片尺寸超过800x800的限制\r\n              if (originWidth > maxWidth || originHeight > maxHeight) {\r\n                if (originWidth / originHeight > maxWidth / maxHeight) {\r\n                  // 更宽，按照宽度限定尺寸\r\n                  targetWidth = maxWidth;\r\n                  targetHeight = Math.round(maxWidth * (originHeight / originWidth));\r\n                } else {\r\n                  targetHeight = maxHeight;\r\n                  targetWidth = Math.round(maxHeight * (originWidth / originHeight));\r\n                }\r\n              }\r\n              canvas.width = targetWidth\r\n              canvas.height = targetHeight\r\n              context.clearRect(0, 0, targetWidth, targetHeight)\r\n              context.drawImage(image, 0, 0, targetWidth, targetHeight)\r\n              const dataUrl = canvas.toDataURL('image/jpeg', 0.9)\r\n              const blobData = _this.dataURItoBlob(dataUrl, 'image/jpeg')\r\n              resolve(blobData)\r\n            }\r\n            reader.onload = (e => { image.src = e.target.result; })\r\n            reader.readAsDataURL(file)\r\n          })\r\n        }\r\n        return isJpgOrPng && isLt10M\r\n      },\r\n      dataURItoBlob(dataURI, type) {\r\n        var binary = atob(dataURI.split(',')[1]);\r\n        var array = [];\r\n        for(var i = 0; i < binary.length; i++) {\r\n          array.push(binary.charCodeAt(i));\r\n        }\r\n        return new Blob([new Uint8Array(array)], {type: type});\r\n      },\r\n      // 返回上一页\r\n      back() {\r\n        this.$emit('componentsChange', 'index')\r\n      },\r\n      // 提交\r\n      submit() {\r\n        this.$refs['form'].validate(async valid => {\r\n          if (valid) {\r\n            await addStore(this.form).then(() => {\r\n              this.$message.success('添加成功')\r\n              this.back()\r\n            })\r\n          } else {\r\n            return false\r\n          }\r\n        })\r\n      },\r\n      // 上传图片成功的钩子\r\n      uploadSuccess(res) {\r\n        this.form.store_image = res.data\r\n      },\r\n      // 删除上传门店图片\r\n      removeUpload() {\r\n        this.form.store_image = ''\r\n      },\r\n      // 地图模糊查询实例\r\n      initMapFilterPlace() {\r\n        const auto = new AMap.Autocomplete({\r\n          input: 'tipinput'\r\n        })\r\n        // 构造地点查询类\r\n        const placeSearch = new AMap.PlaceSearch({\r\n          map: this.mapDialogObj.MAP\r\n        })\r\n        const geocoder = new AMap.Geocoder({\r\n          // city: \"010\", //城市设为北京，默认：“全国”\r\n          // radius: 1000 //范围，默认：500\r\n        })\r\n        // 注册监听，当选中某条记录时会触发\r\n        AMap.event.addListener(auto, \"select\", (e) => {\r\n          placeSearch.setCity(e.poi.adcode)\r\n          // 关键字查询查询\r\n          placeSearch.search(e.poi.name)\r\n          this.mapDialogObj.address = e.poi.district + e.poi.name\r\n          this.mapDialogObj.lat = e.poi.location.lat\r\n          this.mapDialogObj.lon = e.poi.location.lng\r\n          geocoder.getAddress(e.poi.location.lng + ',' + e.poi.location.lat, (status, result) => {\r\n            if (status === 'complete' && result.regeocode) {\r\n              this.form.province = result.regeocode.addressComponent.province\r\n              this.form.city = result.regeocode.addressComponent.city\r\n              this.form.district = result.regeocode.addressComponent.district\r\n            } else {\r\n              this.$message.error('根据经纬度查询地址失败')\r\n            }\r\n          })\r\n        })\r\n      },\r\n      // 地图标记查询实例\r\n      initMapMarkerPlace() {\r\n        let marker = null\r\n        let marker2 = null\r\n\r\n        const geocoder = new AMap.Geocoder({\r\n          // city: \"010\", //城市设为北京，默认：“全国”\r\n          // radius: 1000 //范围，默认：500\r\n        })\r\n\r\n        this.mapDialogObj.MAP.on('click', (e) => {\r\n          this.mapDialogObj.lon = e.lnglat.getLng()\r\n          this.mapDialogObj.lat = e.lnglat.getLat()\r\n          marker = new AMap.Marker({\r\n            position: [this.mapDialogObj.lon, this.mapDialogObj.lat]\r\n          })\r\n          if (marker2) {\r\n            this.mapDialogObj.MAP.remove(marker2)\r\n          }\r\n          marker2 = marker\r\n\r\n          marker.setMap(this.mapDialogObj.MAP)\r\n          geocoder.getAddress(e.lnglat.getLng() + ',' + e.lnglat.getLat(), (status, result) => {\r\n            if (status === 'complete' && result.regeocode) {\r\n              this.form.province = result.regeocode.addressComponent.province\r\n              this.form.city = result.regeocode.addressComponent.city\r\n              this.form.district = result.regeocode.addressComponent.district\r\n              this.mapDialogObj.address = result.regeocode.formattedAddress\r\n            } else {\r\n              this.$message.error('根据经纬度查询地址失败')\r\n            }\r\n          })\r\n        })\r\n      },\r\n      // 实例化地图\r\n      initMap() {\r\n        this.mapDialogObj.MAP = new AMap.Map('map', {\r\n          resizeEnable: true,\r\n          center: [106.630153, 26.647661],\r\n          zoom: 13\r\n        })\r\n        this.initMapFilterPlace()\r\n        this.initMapMarkerPlace()\r\n      },\r\n      // 地图弹窗\r\n      showMapDialog() {\r\n        this.mapDialogObj.visible = true\r\n        this.$nextTick(() => {\r\n          this.initMap()\r\n        })\r\n      },\r\n      // 关闭地图弹窗\r\n      mapDialogClose() {\r\n        this.mapDialogObj.visible = false\r\n        this.mapDialogObj.MAP.destroy()\r\n        this.mapDialogObj.searchText = ''\r\n        this.mapDialogObj.address = ''\r\n        this.mapDialogObj.lat = ''\r\n        this.mapDialogObj.lon = ''\r\n      },\r\n      // 地图选择完成\r\n      mapChooseSubmit() {\r\n        this.form.longitude = this.mapDialogObj.lon\r\n        this.form.latitude = this.mapDialogObj.lat\r\n        this.form.address = this.mapDialogObj.address\r\n        this.mapDialogClose()\r\n      },\r\n      // 清空地图查询数据\r\n      clearDialogData() {\r\n        this.mapDialogObj.address = ''\r\n        this.mapDialogObj.lat = ''\r\n        this.mapDialogObj.lon = ''\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  ::v-deep .el-textarea .el-input__count {\r\n    line-height: normal;\r\n  }\r\n\r\n  .amap-wrapper {\r\n    height: 500px;\r\n  }\r\n\r\n  .dialog-input {\r\n    width: 300px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .dialog-ipt-group {\r\n    margin-top: 20px;\r\n\r\n    .el-input {\r\n      width: 200px;\r\n    }\r\n\r\n    .el-input+.el-input {\r\n      margin-left: 10px;\r\n    }\r\n\r\n    .full {\r\n      display: block;\r\n      width: 100%;\r\n      margin-left: 0 !important;\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .amap-sug-result {\r\n    z-index: 10000\r\n  }\r\n</style>\r\n"]}]}